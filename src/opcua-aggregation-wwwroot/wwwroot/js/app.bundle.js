!function(){"use strict";function e(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{l(r.next(e))}catch(e){o(e)}}function a(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((r=r.apply(e,t||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;class t{constructor(e){this._service=e}load(){return e(this,void 0,void 0,(function*(){this.list=yield this._service.getClientStatuses()}))}static get[Symbol.for("___CTOR_ARGS___")](){return["IClientStatusService"]}}class n{constructor(e){this._service=e}load(t){return e(this,void 0,void 0,(function*(){this.current=yield this._service.getClientStatus(t)}))}static get[Symbol.for("___CTOR_ARGS___")](){return["IClientStatusService"]}}class r{constructor(e){this._service=e}load(){return e(this,void 0,void 0,(function*(){this.list=yield this._service.getClientConfigs()}))}static get[Symbol.for("___CTOR_ARGS___")](){return["IClientConfigService"]}}class i{constructor(e){this._service=e}load(t){return e(this,void 0,void 0,(function*(){this.current=yield this._service.getClientConfig(t)}))}loadChannels(){return e(this,void 0,void 0,(function*(){this.current&&(this.current.channels=yield this._service.getClientChannels(this.current.id))}))}static get[Symbol.for("___CTOR_ARGS___")](){return["IClientConfigService"]}}function o(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var s,a,l,u,c,d,f,g,m,v,h,p,y,b,x,w,_,S,C,k,E,I,R,T,A,O,P,D,N,j,M,z,L,$,U,G,q,F,H,B,K,J,Q,V,Y,W;function X(){if(a)return s;function e(e,t,n,r,i,o){return{tag:e,key:t,attrs:n,children:r,text:i,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return a=1,e.normalize=function(t){return Array.isArray(t)?e("[",void 0,void 0,e.normalizeChildren(t),void 0,void 0):null==t||"boolean"==typeof t?null:"object"==typeof t?t:e("#",void 0,void 0,String(t),void 0,void 0)},e.normalizeChildren=function(t){var n=[];if(t.length){for(var r=null!=t[0]&&null!=t[0].key,i=1;i<t.length;i++)if((null!=t[i]&&null!=t[i].key)!==r)throw new TypeError(!r||null==t[i]&&"boolean"!=typeof t[i]?"In fragments, vnodes must either all have keys or none have keys.":"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.");for(i=0;i<t.length;i++)n[i]=e.normalize(t[i])}return n},s=e}function Z(){if(u)return l;u=1;var e=X();return l=function(){var t,n=arguments[this],r=this+1;if(null==n?n={}:("object"!=typeof n||null!=n.tag||Array.isArray(n))&&(n={},r=this),arguments.length===r+1)t=arguments[r],Array.isArray(t)||(t=[t]);else for(t=[];r<arguments.length;)t.push(arguments[r++]);return e("",n.key,n,t)},l}function ee(){return d?c:(d=1,c={}.hasOwnProperty)}function te(){if(g)return f;g=1;var e=X(),t=Z(),n=ee(),r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=Object.create(null);function o(e){for(var t,o="div",s=[],a={};t=r.exec(e);){var l=t[1],u=t[2];if(""===l&&""!==u)o=u;else if("#"===l)a.id=u;else if("."===l)s.push(u);else if("["===t[3][0]){var c=t[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===t[4]?s.push(c):a[t[4]]=""===c?c:c||!0}}return s.length>0&&(a.className=s.join(" ")),function(e){for(var t in e)if(n.call(e,t))return!1;return!0}(a)&&(a=null),i[e]={tag:o,attrs:a}}return f=function(r){if(null==r||"string"!=typeof r&&"function"!=typeof r&&"function"!=typeof r.view)throw Error("The selector must be either a string or a component.");var s=t.apply(1,arguments);return"string"==typeof r&&(s.children=e.normalizeChildren(s.children),"["!==r)?function(e,t){var r=t.attrs,i=n.call(r,"class"),o=i?r.class:r.className;return t.tag=e.tag,null!=e.attrs?(r=Object.assign({},e.attrs,r),null==o&&null==e.attrs.className||(r.className=null!=o?null!=e.attrs.className?String(e.attrs.className)+" "+String(o):o:null!=e.attrs.className?e.attrs.className:null)):null!=o&&(r.className=o),i&&(r.class=null),"input"===e.tag&&n.call(r,"type")&&(r=Object.assign({type:r.type},r)),t.attrs=r,t}(i[r]||o(r),s):(s.tag=r,s)},f}function ne(){if(b)return y;b=1;var e=te();return e.trust=function(){if(v)return m;v=1;var e=X();return m=function(t){return null==t&&(t=""),e("<",void 0,void 0,t,void 0,void 0)}}(),e.fragment=function(){if(p)return h;p=1;var e=X(),t=Z();return h=function(){var n=t.apply(0,arguments);return n.tag="[",n.children=e.normalizeChildren(n.children),n},h}(),y=e}function re(){if(w)return x;w=1;var e=new WeakMap;return x={delayedRemoval:e,domFor:function*(t,n={}){var r=t.dom,i=t.domSize,o=n.generation;if(null!=r)do{var s=r.nextSibling;e.get(r)===o&&(yield r,i--),r=s}while(i)}},x}function ie(){if(S)return _;S=1;var e=X(),t=re(),n=t.delayedRemoval,r=t.domFor;return _=function(){var t,i,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function s(e){return e.ownerDocument}function a(e){return e.attrs&&e.attrs.xmlns||o[e.tag]}function l(e,t){if(e.state!==t)throw new Error("'vnode.state' must not be modified.")}function u(e){var t=e.state;try{return this.apply(t,arguments)}finally{l(e,t)}}function c(e){try{return s(e).activeElement}catch(e){return null}}function d(e,t,n,r,i,o,s){for(var a=n;a<r;a++){var l=t[a];null!=l&&f(e,l,i,s,o)}}function f(t,n,r,i,o){var l=n.tag;if("string"==typeof l)switch(n.state={},null!=n.attrs&&j(n.attrs,n,r),l){case"#":!function(e,t,n){t.dom=s(e).createTextNode(t.children),_(e,t.dom,n)}(t,n,o);break;case"<":m(t,n,i,o);break;case"[":!function(e,t,n,r,i){var o=s(e).createDocumentFragment();if(null!=t.children){var a=t.children;d(o,a,0,a.length,n,null,r)}t.dom=o.firstChild,t.domSize=o.childNodes.length,_(e,o,i)}(t,n,r,i,o);break;default:!function(e,t,n,r,i){var o=t.tag,l=t.attrs,u=l&&l.is;r=a(t)||r;var c=r?u?s(e).createElementNS(r,o,{is:u}):s(e).createElementNS(r,o):u?s(e).createElement(o,{is:u}):s(e).createElement(o);t.dom=c,null!=l&&function(e,t,n){for(var r in t)R(e,r,null,t[r],n)}(t,l,r);if(_(e,c,i),!S(t)&&null!=t.children){var f=t.children;d(c,f,0,f.length,n,null,r),"select"===t.tag&&null!=l&&function(e,t){if("value"in t)if(null===t.value)-1!==e.dom.selectedIndex&&(e.dom.value=null);else{var n=""+t.value;e.dom.value===n&&-1!==e.dom.selectedIndex||(e.dom.value=n)}"selectedIndex"in t&&R(e,"selectedIndex",null,t.selectedIndex,void 0)}(t,l)}}(t,n,r,i,o)}else!function(t,n,r,i,o){(function(t,n){var r;if("function"==typeof t.tag.view){if(t.state=Object.create(t.tag),null!=(r=t.state.view).$$reentrantLock$$)return;r.$$reentrantLock$$=!0}else{if(t.state=void 0,null!=(r=t.tag).$$reentrantLock$$)return;r.$$reentrantLock$$=!0,t.state=null!=t.tag.prototype&&"function"==typeof t.tag.prototype.view?new t.tag(t):t.tag(t)}j(t.state,t,n),null!=t.attrs&&j(t.attrs,t,n);if(t.instance=e.normalize(u.call(t.state.view,t)),t.instance===t)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null})(n,r),null!=n.instance?(f(t,n.instance,r,i,o),n.dom=n.instance.dom,n.domSize=null!=n.dom?n.instance.domSize:0):n.domSize=0}(t,n,r,i,o)}var g={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function m(e,t,n,r){var i=t.children.match(/^\s*?<(\w+)/im)||[],o=s(e).createElement(g[i[1]]||"div");"http://www.w3.org/2000/svg"===n?(o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+t.children+"</svg>",o=o.firstChild):o.innerHTML=t.children,t.dom=o.firstChild,t.domSize=o.childNodes.length;for(var a,l=s(e).createDocumentFragment();a=o.firstChild;)l.appendChild(a);_(e,l,r)}function v(e,t,n,r,i,o){if(t!==n&&(null!=t||null!=n))if(null==t||0===t.length)d(e,n,0,n.length,r,i,o);else if(null==n||0===n.length)C(e,t,0,t.length);else{var s=null!=t[0]&&null!=t[0].key,a=null!=n[0]&&null!=n[0].key,l=0,u=0;if(!s)for(;u<t.length&&null==t[u];)u++;if(!a)for(;l<n.length&&null==n[l];)l++;if(s!==a)C(e,t,u,t.length),d(e,n,l,n.length,r,i,o);else if(a){for(var c,g,m,v,y,_=t.length-1,S=n.length-1;_>=u&&S>=l&&(m=t[_],v=n[S],m.key===v.key);)m!==v&&h(e,m,v,r,i,o),null!=v.dom&&(i=v.dom),_--,S--;for(;_>=u&&S>=l&&(c=t[u],g=n[l],c.key===g.key);)u++,l++,c!==g&&h(e,c,g,r,x(t,u,i),o);for(;_>=u&&S>=l&&l!==S&&c.key===v.key&&m.key===g.key;)w(e,m,y=x(t,u,i)),m!==g&&h(e,m,g,r,y,o),++l<=--S&&w(e,c,i),c!==v&&h(e,c,v,r,i,o),null!=v.dom&&(i=v.dom),u++,m=t[--_],v=n[S],c=t[u],g=n[l];for(;_>=u&&S>=l&&m.key===v.key;)m!==v&&h(e,m,v,r,i,o),null!=v.dom&&(i=v.dom),S--,m=t[--_],v=n[S];if(l>S)C(e,t,u,_+1);else if(u>_)d(e,n,l,S+1,r,i,o);else{var E,I,R=i,T=S-l+1,A=new Array(T),O=0,P=0,D=2147483647,N=0;for(P=0;P<T;P++)A[P]=-1;for(P=S;P>=l;P--){null==E&&(E=p(t,u,_+1));var j=E[(v=n[P]).key];null!=j&&(D=j<D?j:-1,A[P-l]=j,m=t[j],t[j]=null,m!==v&&h(e,m,v,r,i,o),null!=v.dom&&(i=v.dom),N++)}if(i=R,N!==_-u+1&&C(e,t,u,_+1),0===N)d(e,n,l,S+1,r,i,o);else if(-1===D)for(I=function(e){var t=[0],n=0,r=0,i=0,o=b.length=e.length;for(i=0;i<o;i++)b[i]=e[i];for(i=0;i<o;++i)if(-1!==e[i]){var s=t[t.length-1];if(e[s]<e[i])b[i]=s,t.push(i);else{for(n=0,r=t.length-1;n<r;){var a=(n>>>1)+(r>>>1)+(n&r&1);e[t[a]]<e[i]?n=a+1:r=a}e[i]<e[t[n]]&&(n>0&&(b[i]=t[n-1]),t[n]=i)}}n=t.length,r=t[n-1];for(;n-- >0;)t[n]=r,r=b[r];return b.length=0,t}(A),O=I.length-1,P=S;P>=l;P--)g=n[P],-1===A[P-l]?f(e,g,r,o,i):I[O]===P-l?O--:w(e,g,i),null!=g.dom&&(i=n[P].dom);else for(P=S;P>=l;P--)g=n[P],-1===A[P-l]&&f(e,g,r,o,i),null!=g.dom&&(i=n[P].dom)}}else{var M=t.length<n.length?t.length:n.length;for(l=l<u?l:u;l<M;l++)(c=t[l])===(g=n[l])||null==c&&null==g||(null==c?f(e,g,r,o,x(t,l+1,i)):null==g?k(e,c):h(e,c,g,r,x(t,l+1,i),o));t.length>M&&C(e,t,l,t.length),n.length>M&&d(e,n,l,n.length,r,i,o)}}}function h(t,n,r,i,o,s){var l=n.tag;if(l===r.tag){if(r.state=n.state,r.events=n.events,function(e,t){do{var n;if(null!=e.attrs&&"function"==typeof e.attrs.onbeforeupdate)if(void 0!==(n=u.call(e.attrs.onbeforeupdate,e,t))&&!n)break;if("string"!=typeof e.tag&&"function"==typeof e.state.onbeforeupdate)if(void 0!==(n=u.call(e.state.onbeforeupdate,e,t))&&!n)break;return!1}while(0);return e.dom=t.dom,e.domSize=t.domSize,e.instance=t.instance,e.attrs=t.attrs,e.children=t.children,e.text=t.text,!0}(r,n))return;if("string"==typeof l)switch(null!=r.attrs&&M(r.attrs,r,i),l){case"#":!function(e,t){e.children.toString()!==t.children.toString()&&(e.dom.nodeValue=t.children);t.dom=e.dom}(n,r);break;case"<":!function(e,t,n,r,i){t.children!==n.children?(E(e,t,void 0),m(e,n,r,i)):(n.dom=t.dom,n.domSize=t.domSize)}(t,n,r,s,o);break;case"[":!function(e,t,n,r,i,o){v(e,t.children,n.children,r,i,o);var s=0,a=n.children;if(n.dom=null,null!=a){for(var l=0;l<a.length;l++){var u=a[l];null!=u&&null!=u.dom&&(null==n.dom&&(n.dom=u.dom),s+=u.domSize||1)}1!==s&&(n.domSize=s)}}(t,n,r,i,o,s);break;default:!function(e,t,n,r){var i=t.dom=e.dom;r=a(t)||r,function(e,t,n,r){t&&t===n&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major");if(null!=n)for(var i in n)R(e,i,t&&t[i],n[i],r);var o;if(null!=t)for(var i in t)null==(o=t[i])||null!=n&&null!=n[i]||T(e,i,o,r)}(t,e.attrs,t.attrs,r),S(t)||v(i,e.children,t.children,n,null,r)}(n,r,i,s)}else!function(t,n,r,i,o,s){if(r.instance=e.normalize(u.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");M(r.state,r,i),null!=r.attrs&&M(r.attrs,r,i);null!=r.instance?(null==n.instance?f(t,r.instance,i,s,o):h(t,n.instance,r.instance,i,o,s),r.dom=r.instance.dom,r.domSize=r.instance.domSize):null!=n.instance?(k(t,n.instance),r.dom=void 0,r.domSize=0):(r.dom=n.dom,r.domSize=n.domSize)}(t,n,r,i,o,s)}else k(t,n),f(t,r,i,s,o)}function p(e,t,n){for(var r=Object.create(null);t<n;t++){var i=e[t];if(null!=i){var o=i.key;null!=o&&(r[o]=t)}}return r}var y,b=[];function x(e,t,n){for(;t<e.length;t++)if(null!=e[t]&&null!=e[t].dom)return e[t].dom;return n}function w(e,t,n){if(null!=t.dom){var i;if(null==t.domSize)i=t.dom;else for(var o of(i=s(e).createDocumentFragment(),r(t)))i.appendChild(o);_(e,i,n)}}function _(e,t,n){null!=n?e.insertBefore(t,n):e.appendChild(t)}function S(e){if(null==e.attrs||null==e.attrs.contenteditable&&null==e.attrs.contentEditable)return!1;var t=e.children;if(null!=t&&1===t.length&&"<"===t[0].tag){var n=t[0].children;e.dom.innerHTML!==n&&(e.dom.innerHTML=n)}else if(null!=t&&0!==t.length)throw new Error("Child node of a contenteditable must be trusted.");return!0}function C(e,t,n,r){for(var i=n;i<r;i++){var o=t[i];null!=o&&k(e,o)}}function k(e,t){var o,s,a,c,d=0,f=t.state;"string"!=typeof t.tag&&"function"==typeof t.state.onbeforeremove&&(null!=(a=u.call(t.state.onbeforeremove,t))&&"function"==typeof a.then&&(d=1,o=a));t.attrs&&"function"==typeof t.attrs.onbeforeremove&&(null!=(a=u.call(t.attrs.onbeforeremove,t))&&"function"==typeof a.then&&(d|=2,s=a));if(l(t,f),d){for(var g of(c=i,r(t)))n.set(g,c);null!=o&&o.finally((function(){1&d&&((d&=2)||(l(t,f),I(t),E(e,t,c)))})),null!=s&&s.finally((function(){2&d&&((d&=1)||(l(t,f),I(t),E(e,t,c)))}))}else I(t),E(e,t,c)}function E(e,t,i){if(null!=t.dom)if(null==t.domSize)n.get(t.dom)===i&&e.removeChild(t.dom);else for(var o of r(t,{generation:i}))e.removeChild(o)}function I(e){if("string"!=typeof e.tag&&"function"==typeof e.state.onremove&&u.call(e.state.onremove,e),e.attrs&&"function"==typeof e.attrs.onremove&&u.call(e.attrs.onremove,e),"string"!=typeof e.tag)null!=e.instance&&I(e.instance);else{var t=e.children;if(Array.isArray(t))for(var n=0;n<t.length;n++){var r=t[n];null!=r&&I(r)}}}function R(e,t,n,r,i){if("key"!==t&&"is"!==t&&null!=r&&!A(t)&&(n!==r||function(e,t){return"value"===t||"checked"===t||"selectedIndex"===t||"selected"===t&&e.dom===c(e.dom)||"option"===e.tag&&e.dom.parentNode===c(e.dom)}(e,t)||"object"==typeof r)){if("o"===t[0]&&"n"===t[1])return N(e,t,r);if("xlink:"===t.slice(0,6))e.dom.setAttributeNS("http://www.w3.org/1999/xlink",t.slice(6),r);else if("style"===t)P(e.dom,n,r);else if(O(e,t,i)){if("value"===t){var o="input"===e.tag&&"file"===e.attrs.type;if(("input"===e.tag||"textarea"===e.tag)&&e.dom.value===""+r&&(o||e.dom===c(e.dom)))return;if("select"===e.tag&&null!==n&&e.dom.value===""+r)return;if("option"===e.tag&&null!==n&&e.dom.value===""+r)return;if(o&&""+r!="")return void console.error("`value` is read-only on file inputs!")}"input"===e.tag&&"type"===t?e.dom.setAttribute(t,r):e.dom[t]=r}else"boolean"==typeof r?r?e.dom.setAttribute(t,""):e.dom.removeAttribute(t):e.dom.setAttribute("className"===t?"class":t,r)}}function T(e,t,n,r){if("key"!==t&&"is"!==t&&null!=n&&!A(t))if("o"===t[0]&&"n"===t[1])N(e,t,void 0);else if("style"===t)P(e.dom,n,null);else if(!O(e,t,r)||"className"===t||"title"===t||"value"===t&&("option"===e.tag||"select"===e.tag&&-1===e.dom.selectedIndex&&e.dom===c(e.dom))||"input"===e.tag&&"type"===t){var i=t.indexOf(":");-1!==i&&(t=t.slice(i+1)),!1!==n&&e.dom.removeAttribute("className"===t?"class":t)}else e.dom[t]=null}function A(e){return"oninit"===e||"oncreate"===e||"onupdate"===e||"onremove"===e||"onbeforeremove"===e||"onbeforeupdate"===e}function O(e,t,n){return void 0===n&&(e.tag.indexOf("-")>-1||null!=e.attrs&&e.attrs.is||"href"!==t&&"list"!==t&&"form"!==t&&"width"!==t&&"height"!==t)&&t in e.dom}function P(e,t,n){if(t===n);else if(null==n)e.style="";else if("object"!=typeof n)e.style=n;else if(null==t||"object"!=typeof t)for(var r in e.style.cssText="",n){null!=(i=n[r])&&(r.includes("-")?e.style.setProperty(r,String(i)):e.style[r]=String(i))}else{for(var r in n){var i;null!=(i=n[r])&&(i=String(i))!==String(t[r])&&(r.includes("-")?e.style.setProperty(r,i):e.style[r]=i)}for(var r in t)null!=t[r]&&null==n[r]&&(r.includes("-")?e.style.removeProperty(r):e.style[r]="")}}function D(){this._=t}function N(e,n,r){if(null!=e.events){if(e.events._=t,e.events[n]===r)return;null==r||"function"!=typeof r&&"object"!=typeof r?(null!=e.events[n]&&e.dom.removeEventListener(n.slice(2),e.events,!1),e.events[n]=void 0):(null==e.events[n]&&e.dom.addEventListener(n.slice(2),e.events,!1),e.events[n]=r)}else null==r||"function"!=typeof r&&"object"!=typeof r||(e.events=new D,e.dom.addEventListener(n.slice(2),e.events,!1),e.events[n]=r)}function j(e,t,n){"function"==typeof e.oninit&&u.call(e.oninit,t),"function"==typeof e.oncreate&&n.push(u.bind(e.oncreate,t))}function M(e,t,n){"function"==typeof e.onupdate&&n.push(u.bind(e.onupdate,t))}return D.prototype=Object.create(null),D.prototype.handleEvent=function(e){var t,n=this["on"+e.type];"function"==typeof n?t=n.call(e.currentTarget,e):"function"==typeof n.handleEvent&&n.handleEvent(e),this._&&!1!==e.redraw&&(0,this._)(),!1===t&&(e.preventDefault(),e.stopPropagation())},function(n,r,o){if(!n)throw new TypeError("DOM element being rendered to does not exist.");if(null!=y&&n.contains(y))throw new TypeError("Node is currently being rendered to and thus is locked.");var s=t,a=y,l=[],u=c(n),d=n.namespaceURI;y=n,t="function"==typeof o?o:void 0,i={};try{null==n.vnodes&&(n.textContent=""),r=e.normalizeChildren(Array.isArray(r)?r:[r]),v(n,n.vnodes,r,l,null,"http://www.w3.org/1999/xhtml"===d?void 0:d),n.vnodes=r,null!=u&&c(n)!==u&&"function"==typeof u.focus&&u.focus();for(var f=0;f<l.length;f++)l[f]()}finally{t=s,y=a}}},_}function oe(){return k?C:(k=1,C=ie()("undefined"!=typeof window?window:null))}function se(){if(T)return R;T=1;var e=oe();return R=function(){if(I)return E;I=1;var e=X();return E=function(t,n,r){var i=[],o=!1,s=-1;function a(){for(s=0;s<i.length;s+=2)try{t(i[s],e(i[s+1]),l)}catch(e){r.error(e)}s=-1}function l(){o||(o=!0,n((function(){o=!1,a()})))}return l.sync=a,{mount:function(n,r){if(null!=r&&null==r.view&&"function"!=typeof r)throw new TypeError("m.mount expects a component, not a vnode.");var o=i.indexOf(n);o>=0&&(i.splice(o,2),o<=s&&(s-=2),t(n,[])),null!=r&&(i.push(n,r),t(n,e(r),l))},redraw:l}},E}()(e,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null),R}function ae(){return O?A:(O=1,A=function(e){if("[object Object]"!==Object.prototype.toString.call(e))return"";var t=[];for(var n in e)r(n,e[n]);return t.join("&");function r(e,n){if(Array.isArray(n))for(var i=0;i<n.length;i++)r(e+"["+i+"]",n[i]);else if("[object Object]"===Object.prototype.toString.call(n))for(var i in n)r(e+"["+i+"]",n[i]);else t.push(encodeURIComponent(e)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}})}function le(){if(D)return P;D=1;var e=ae();return P=function(t,n){if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==n)return t;var r=t.indexOf("?"),i=t.indexOf("#"),o=i<0?t.length:i,s=r<0?o:r,a=t.slice(0,s),l={};Object.assign(l,n);var u=a.replace(/:([^\/\.-]+)(\.{3})?/g,(function(e,t,r){return delete l[t],null==n[t]?e:r?n[t]:encodeURIComponent(String(n[t]))})),c=u.indexOf("?"),d=u.indexOf("#"),f=d<0?u.length:d,g=c<0?f:c,m=u.slice(0,g);r>=0&&(m+=t.slice(r,o)),c>=0&&(m+=(r<0?"?":"&")+u.slice(c,f));var v=e(l);return v&&(m+=(r<0&&c<0?"?":"&")+v),i>=0&&(m+=t.slice(i)),d>=0&&(m+=(i<0?"":"&")+u.slice(d)),m},P}function ue(){if(j)return N;j=1;var e=le(),t=ee();return N=function(n,r){function i(e){return new Promise(e)}function o(e,n){for(var r in e.headers)if(t.call(e.headers,r)&&r.toLowerCase()===n)return!0;return!1}return i.prototype=Promise.prototype,i.__proto__=Promise,{request:function(s,a){"string"!=typeof s?(a=s,s=s.url):null==a&&(a={});var l=function(r,i){return new Promise((function(s,a){r=e(r,i.params);var l,u=null!=i.method?i.method.toUpperCase():"GET",c=i.body,d=(null==i.serialize||i.serialize===JSON.serialize)&&!(c instanceof n.FormData||c instanceof n.URLSearchParams),f=i.responseType||("function"==typeof i.extract?"":"json"),g=new n.XMLHttpRequest,m=!1,v=!1,h=g,p=g.abort;for(var y in g.abort=function(){m=!0,p.call(this)},g.open(u,r,!1!==i.async,"string"==typeof i.user?i.user:void 0,"string"==typeof i.password?i.password:void 0),d&&null!=c&&!o(i,"content-type")&&g.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof i.deserialize||o(i,"accept")||g.setRequestHeader("Accept","application/json, text/*"),i.withCredentials&&(g.withCredentials=i.withCredentials),i.timeout&&(g.timeout=i.timeout),g.responseType=f,i.headers)t.call(i.headers,y)&&g.setRequestHeader(y,i.headers[y]);g.onreadystatechange=function(e){if(!m&&4===e.target.readyState)try{var t,n=e.target.status>=200&&e.target.status<300||304===e.target.status||/^file:\/\//i.test(r),o=e.target.response;if("json"===f){if(!e.target.responseType&&"function"!=typeof i.extract)try{o=JSON.parse(e.target.responseText)}catch(e){o=null}}else f&&"text"!==f||null==o&&(o=e.target.responseText);if("function"==typeof i.extract?(o=i.extract(e.target,i),n=!0):"function"==typeof i.deserialize&&(o=i.deserialize(o)),n){if("function"==typeof i.type)if(Array.isArray(o))for(var l=0;l<o.length;l++)o[l]=new i.type(o[l]);else o=new i.type(o);s(o)}else{var u=function(){try{t=e.target.responseText}catch(e){t=o}var n=new Error(t);n.code=e.target.status,n.response=o,a(n)};0===g.status?setTimeout((function(){v||u()})):u()}}catch(e){a(e)}},g.ontimeout=function(e){v=!0;var t=new Error("Request timed out");t.code=e.target.status,a(t)},"function"==typeof i.config&&(g=i.config(g,i,r)||g)!==h&&(l=g.abort,g.abort=function(){m=!0,l.call(this)}),null==c?g.send():"function"==typeof i.serialize?g.send(i.serialize(c)):c instanceof n.FormData||c instanceof n.URLSearchParams?g.send(c):g.send(JSON.stringify(c))}))}(s,a);if(!0===a.background)return l;var u=0;function c(){0==--u&&"function"==typeof r&&r()}return function e(t){var n=t.then;return t.constructor=i,t.then=function(){u++;var r=n.apply(t,arguments);return r.then(c,(function(e){if(c(),0===u)throw e})),e(r)},t}(l)}}},N}function ce(){if(z)return M;z=1;var e=se();return M=ue()("undefined"!=typeof window?window:null,e.redraw)}function de(){if($)return L;function e(e){try{return decodeURIComponent(e)}catch(t){return e}}return $=1,L=function(t){if(""===t||null==t)return{};"?"===t.charAt(0)&&(t=t.slice(1));for(var n=t.split("&"),r={},i={},o=0;o<n.length;o++){var s=n[o].split("="),a=e(s[0]),l=2===s.length?e(s[1]):"";"true"===l?l=!0:"false"===l&&(l=!1);var u=a.split(/\]\[?|\[/),c=i;a.indexOf("[")>-1&&u.pop();for(var d=0;d<u.length;d++){var f=u[d],g=u[d+1],m=""==g||!isNaN(parseInt(g,10));if(""===f)null==r[a=u.slice(0,d).join()]&&(r[a]=Array.isArray(c)?c.length:0),f=r[a]++;else if("__proto__"===f)break;if(d===u.length-1)c[f]=l;else{var v=Object.getOwnPropertyDescriptor(c,f);null!=v&&(v=v.value),null==v&&(c[f]=v=m?[]:{}),c=v}}}return i}}function fe(){if(G)return U;G=1;var e=de();return U=function(t){var n=t.indexOf("?"),r=t.indexOf("#"),i=r<0?t.length:r,o=n<0?i:n,s=t.slice(0,o).replace(/\/{2,}/g,"/");return s?"/"!==s[0]&&(s="/"+s):s="/",{path:s,params:n<0?{}:e(t.slice(n+1,i))}}}function ge(){if(F)return q;F=1;var e=fe();return q=function(t){var n=e(t),r=Object.keys(n.params),i=[],o=new RegExp("^"+n.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,(function(e,t,n){return null==t?"\\"+e:(i.push({k:t,r:"..."===n}),"..."===n?"(.*)":"."===n?"([^/]+)\\.":"([^/]+)"+(n||""))}))+"$");return function(e){for(var t=0;t<r.length;t++)if(n.params[r[t]]!==e.params[r[t]])return!1;if(!i.length)return o.test(e.path);var s=o.exec(e.path);if(null==s)return!1;for(t=0;t<i.length;t++)e.params[i[t].k]=i[t].r?s[t+1]:decodeURIComponent(s[t+1]);return!0}},q}function me(){if(B)return H;B=1;var e=ee(),t=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return H=function(n,r){var i={};if(null!=r)for(var o in n)e.call(n,o)&&!t.test(o)&&r.indexOf(o)<0&&(i[o]=n[o]);else for(var o in n)e.call(n,o)&&!t.test(o)&&(i[o]=n[o]);return i}}function ve(){if(V)return Q;V=1;var e=se();return Q=function(){if(J)return K;J=1;var e=X(),t=te(),n=le(),r=fe(),i=ge(),o=me(),s={};function a(e){try{return decodeURIComponent(e)}catch(t){return e}}return K=function(l,u){var c,d,f,g,m,v,h=null==l?null:"function"==typeof l.setImmediate?l.setImmediate:l.setTimeout,p=Promise.resolve(),y=!1,b=!1,x=0,w=s,_={onbeforeupdate:function(){return!(!(x=x?2:1)||s===w)},onremove:function(){l.removeEventListener("popstate",k,!1),l.removeEventListener("hashchange",C,!1)},view:function(){if(x&&s!==w){var t=[e(f,g.key,g)];return w&&(t=w.render(t[0])),t}}},S=I.SKIP={};function C(){y=!1;var e=l.location.hash;"#"!==I.prefix[0]&&(e=l.location.search+e,"?"!==I.prefix[0]&&"/"!==(e=l.location.pathname+e)[0]&&(e="/"+e));var t=e.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,a).slice(I.prefix.length),n=r(t);function i(e){console.error(e),E(d,null,{replace:!0})}Object.assign(n.params,l.history.state),function e(r){for(;r<c.length;r++)if(c[r].check(n)){var o=c[r].component,s=c[r].route,a=o,l=v=function(i){if(l===v){if(i===S)return e(r+1);f=null==i||"function"!=typeof i.view&&"function"!=typeof i?"div":i,g=n.params,m=t,v=null,w=o.render?o:null,2===x?u.redraw():(x=2,u.redraw.sync())}};return void(o.view||"function"==typeof o?(o={},l(a)):o.onmatch?p.then((function(){return o.onmatch(n.params,t,s)})).then(l,t===d?null:i):l("div"))}if(t===d)throw new Error("Could not resolve default route "+d+".");E(d,null,{replace:!0})}(0)}function k(){y||(y=!0,h(C))}function E(e,t,r){if(e=n(e,t),b){k();var i=r?r.state:null,o=r?r.title:null;r&&r.replace?l.history.replaceState(i,o,I.prefix+e):l.history.pushState(i,o,I.prefix+e)}else l.location.href=I.prefix+e}function I(e,t,n){if(!e)throw new TypeError("DOM element being rendered to does not exist.");if(c=Object.keys(n).map((function(e){if("/"!==e[0])throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:e,component:n[e],check:i(e)}})),d=t,null!=t){var o=r(t);if(!c.some((function(e){return e.check(o)})))throw new ReferenceError("Default route doesn't match any known routes.")}"function"==typeof l.history.pushState?l.addEventListener("popstate",k,!1):"#"===I.prefix[0]&&l.addEventListener("hashchange",C,!1),b=!0,u.mount(e,_),C()}return I.set=function(e,t,n){null!=v&&((n=n||{}).replace=!0),v=null,E(e,t,n)},I.get=function(){return m},I.prefix="#!",I.Link={view:function(e){var r,i,s,a=t(e.attrs.selector||"a",o(e.attrs,["options","params","selector","onclick"]),e.children);return(a.attrs.disabled=Boolean(a.attrs.disabled))?(a.attrs.href=null,a.attrs["aria-disabled"]="true"):(r=e.attrs.options,i=e.attrs.onclick,s=n(a.attrs.href,e.attrs.params),a.attrs.href=I.prefix+s,a.attrs.onclick=function(e){var t;"function"==typeof i?t=i.call(e.currentTarget,e):null==i||"object"!=typeof i||"function"==typeof i.handleEvent&&i.handleEvent(e),!1===t||e.defaultPrevented||0!==e.button&&0!==e.which&&1!==e.which||e.currentTarget.target&&"_self"!==e.currentTarget.target||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(e.preventDefault(),e.redraw=!1,I.set(s,null,r))}),a}},I.param=function(e){return g&&null!=e?g[e]:g},I},K}()("undefined"!=typeof window?window:null,e),Q}var he=function(){if(W)return Y;W=1;var e=ne(),t=ce(),n=se(),r=re(),i=function(){return e.apply(this,arguments)};return i.m=e,i.trust=e.trust,i.fragment=e.fragment,i.Fragment="[",i.mount=n.mount,i.route=ve(),i.render=oe(),i.redraw=n.redraw,i.request=t.request,i.parseQueryString=de(),i.buildQueryString=ae(),i.parsePathname=fe(),i.buildPathname=le(),i.vnode=X(),i.censor=me(),i.domFor=r.domFor,Y=i}(),pe=o(he);const ye={view:e=>{var t,n,r,i;return pe("tr",{class:"border-b border-gray-400 last:border-0"},[pe("td",{class:"p-3"},null===(t=e.attrs.status)||void 0===t?void 0:t.sessionName),pe("td",{class:"p-3"},null===(n=e.attrs.status)||void 0===n?void 0:n.serverUri),pe("td",{class:"p-3"},null===(r=e.attrs.status)||void 0===r?void 0:r.connectError),pe("td",{class:"p-3"},pe(pe.route.Link,{class:"font-sans antialiased text-sm text-current font-medium hover:text-primary",href:"/status/"+(null===(i=e.attrs.status)||void 0===i?void 0:i.id)},"Details"))])}},be={view:e=>{var t;return pe("table",{class:"w-full"},[pe("thead",{class:"border-b border-gray-400 bg-gray-400 text-gray-900 text-sm font-medium"},[pe("tr",[pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Name"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Server Uri"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Connect Error"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Monitored Items")])]),pe("tbody",{class:"group text-sm"},null===(t=e.attrs.statuses)||void 0===t?void 0:t.map((e=>pe(ye,{status:e}))))])}},xe={view:e=>pe("div",{class:"m-2 p-2 overflow-hidden rounded-lg border border-gray-400"},e.children)};class we{constructor(e){this.statusModel=e}oninit(){return e(this,void 0,void 0,(function*(){yield this.statusModel.load()}))}view(){return pe("div",{class:"flex flex-col"},[pe(xe,pe(be,{statuses:this.statusModel.list}))])}static get[Symbol.for("___CTOR_ARGS___")](){return["IStatusPageModel"]}}const _e=e=>new Date(e).toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),Se=e=>0===e?"Good":"Bad",Ce={view:e=>pe("tr",{class:"border-b border-gray-400 last:border-0"},[pe("td",{class:"p-3"},e.attrs.item.tagId),pe("td",{class:"p-3"},e.attrs.item.aggregationTag.value),pe("td",{class:"p-3"},_e(e.attrs.item.aggregationTag.timestamp)),pe("td",{class:"p-3"},Se(e.attrs.item.aggregationTag.statusCode))])},ke={view:e=>{var t;return pe("table",{class:"w-full"},[pe("thead",{class:"border-b border-gray-400 bg-gray-400 text-gray-900 text-sm font-medium"},pe("tr",[pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Node Id"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Value"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Timestamp"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Quality")])),pe("tbody",{class:"group text-sm"},null===(t=e.attrs.items)||void 0===t?void 0:t.map((e=>pe(Ce,{item:e}))))])}},Ee={view:e=>{var t,n,r,i;return pe("dl",{class:"w-sm divide-y divide-gray-400"},[pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Session ID: "),pe("dd",{class:"text-lg font-semibold"},null===(t=e.attrs.status)||void 0===t?void 0:t.id)]),pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Session Name: "),pe("dd",{class:"text-lg font-semibold"},null===(n=e.attrs.status)||void 0===n?void 0:n.sessionName)]),pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Session URI: "),pe("dd",{class:"text-lg font-semibold"},null===(r=e.attrs.status)||void 0===r?void 0:r.serverUri)]),pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Connect Error: "),pe("dd",{class:"text-lg font-semibold"},null===(i=e.attrs.status)||void 0===i?void 0:i.connectError)])])}};class Ie{constructor(e){this._statusDetailsModel=e}oninit(t){return e(this,void 0,void 0,(function*(){yield this._statusDetailsModel.load(t.attrs.id)}))}view(e){var t;return pe("div",[pe("div",{class:"flex flex-wrap"},[pe(xe,pe(Ee,{status:this._statusDetailsModel.current}))]),pe("div",{class:"flex flex-col"},[pe(xe,pe(ke,{items:null===(t=this._statusDetailsModel.current)||void 0===t?void 0:t.monitoredItems}))])])}static get[Symbol.for("___CTOR_ARGS___")](){return["IStatusDetailsPageModel"]}}const Re={view:e=>{var t,n,r,i,o;return pe("tr",{class:"border-b border-gray-400 last:border-0"},[pe("td",{class:"p-3"},null===(t=e.attrs.config)||void 0===t?void 0:t.sessionName),pe("td",{class:"p-3"},null===(n=e.attrs.config)||void 0===n?void 0:n.serverUri),pe("td",{class:"p-3"},null===(r=e.attrs.config)||void 0===r?void 0:r.description),pe("td",{class:"p-3"},(null===(i=e.attrs.config)||void 0===i?void 0:i.enabled)?"Enabled":"Disabled"),pe("td",{class:"p-3"},pe(pe.route.Link,{class:"font-sans antialiased text-sm text-current font-medium hover:text-primary",href:"/config/uaclient/"+(null===(o=e.attrs.config)||void 0===o?void 0:o.id)},"Details"))])}},Te={view:e=>{var t;return pe("table",{class:"w-full"},[pe("thead",{class:"border-b border-gray-400 bg-gray-400 text-gray-900 text-sm font-medium"},[pe("tr",[pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Name"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Server Uri"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Description"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Enabled"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Details")])]),pe("tbody",{class:"group text-sm"},null===(t=e.attrs.configs)||void 0===t?void 0:t.map((e=>pe(Re,{config:e}))))])}};class Ae{constructor(){this.variants={default:"border-gray-200 text-gray-200 hover:text-gray-900 hover:bg-gray-400 focus:ring-gray-600",green:"border-green-400 text-green-400 hover:text-gray-900 hover:bg-green-400 focus:ring-green-600",red:"border-red-400 text-red-400 hover:text-gray-900 hover:bg-red-400 focus:ring-red-600",yellow:"border-yellow-400 text-yellow-400 hover:text-gray-900 hover:bg-yellow-400 focus:ring-yellow-600"}}view(e){var t;return pe("button",{class:"border px-5 py-2 mr-2 text-sm rounded-lg focus:ring-4 font-medium text-center focus:outline-none "+this.variants[null!==(t=e.attrs.variant)&&void 0!==t?t:"default"],onclick:e.attrs.onclick},e.children)}}class Oe{view(e){return pe("div",{class:"m-2 p-2 flex flex-row justify-end items-center"},e.children)}}class Pe{constructor(e){this.configModel=e}oninit(){return e(this,void 0,void 0,(function*(){yield this.configModel.load()}))}view(){return pe("div",{class:"flex flex-col"},[pe(Oe,[pe(Ae,{onclick:()=>alert("clicked")},"Add client")]),pe(xe,pe(Te,{configs:this.configModel.list}))])}static get[Symbol.for("___CTOR_ARGS___")](){return["IConfigPageModel"]}}const De={view:e=>{var t,n,r,i,o;return pe("dl",{class:"w-sm divide-y divide-gray-400"},[pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Session ID: "),pe("dd",{class:"text-lg font-semibold"},null===(t=e.attrs.config)||void 0===t?void 0:t.id)]),pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Session Name: "),pe("dd",{class:"text-lg font-semibold"},null===(n=e.attrs.config)||void 0===n?void 0:n.sessionName)]),pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Session URI: "),pe("dd",{class:"text-lg font-semibold"},null===(r=e.attrs.config)||void 0===r?void 0:r.serverUri)]),pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Description: "),pe("dd",{class:"text-lg font-semibold"},null===(i=e.attrs.config)||void 0===i?void 0:i.description)]),pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Enabled: "),pe("dd",{class:"text-lg font-semibold"},(null===(o=e.attrs.config)||void 0===o?void 0:o.enabled)?"Enabledd":"Disabld")])])}},Ne={view:e=>{var t,n,r;return pe("dl",{class:"w-sm divide-y divide-gray-400"},[pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Keep Alive Interval: "),pe("dd",{class:"text-lg font-semibold"},null===(t=e.attrs.config)||void 0===t?void 0:t.keepAliveInterval)]),pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Reconnect Period: "),pe("dd",{class:"text-lg font-semibold"},null===(n=e.attrs.config)||void 0===n?void 0:n.reconnectPeriod)]),pe("div",{class:"flex flex-col pb-3"},[pe("dt",{class:"mb-1 text-lg text-gray-400"},"Session Lifetime: "),pe("dd",{class:"text-lg font-semibold"},null===(r=e.attrs.config)||void 0===r?void 0:r.sessionLifetime)])])}},je={view:e=>pe("tr",{class:"border-b border-gray-400 last:border-0"},[pe("td",{class:"p-3"},e.attrs.channel.nodeId),pe("td",{class:"p-3"},e.attrs.channel.name),pe("td",{class:"p-3"},e.attrs.channel.description),pe("td",{class:"p-3"},e.attrs.channel.id)])},Me={view:e=>{var t;return pe("table",{class:"w-full"},[pe("thead",{class:"border-b border-gray-400 bg-gray-400 text-gray-900 text-sm font-medium"},pe("tr",[pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Node Id"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Name"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"Description"),pe("th",{class:"px-2.5 py-2 text-start font-medium"},"")])),pe("tbody",{class:"text-sm"},null===(t=e.attrs.channels)||void 0===t?void 0:t.map((e=>pe(je,{channel:e}))))])}};class ze{constructor(e){this.configModel=e}oninit(t){return e(this,void 0,void 0,(function*(){yield this.configModel.load(t.attrs.id),yield this.configModel.loadChannels()}))}view(e){var t;return pe("div",[pe("div",{class:"flex flex-wrap"},[pe(xe,pe(De,{config:this.configModel.current})),pe(xe,pe(Ne,{config:this.configModel.current}))]),pe("div",{class:"flex flex-col"},[pe(xe,pe(Me,{channels:null===(t=this.configModel.current)||void 0===t?void 0:t.channels}))])])}static get[Symbol.for("___CTOR_ARGS___")](){return["IConfigDetailsPageModel"]}}const Le=document.getElementById("header"),$e=document.getElementById("footer");class Ue{constructor(e,t){this._header=e,this._footer=t}oninit(){pe.mount(Le,this._header),pe.mount($e,this._footer)}view(e){return pe("div",{class:"w-full max-w-screen-xl"},e.children)}static get[Symbol.for("___CTOR_ARGS___")](){return["Header","Footer"]}}class Ge{constructor(e,t,n,r,i){this._layout=e,this._statusPage=t,this._statusDetailsPage=n,this._configPage=r,this._configDetailsPage=i,this.Routes={"/status":{render:()=>pe(this._layout,pe(this._statusPage))},"/status/:key":{render:e=>pe(this._layout,pe(this._statusDetailsPage,{id:e.attrs.key}))},"/config/uaclient":{render:()=>pe(this._layout,pe(this._configPage))},"/config/uaclient/:key":{render:e=>pe(this._layout,pe(this._configDetailsPage,{id:e.attrs.key}))}}}static get[Symbol.for("___CTOR_ARGS___")](){return["Layout","StatusPage","StatusDetailsPage","ConfigPage","ConfigDetailsPage"]}}class qe{constructor(e="http://localhost:5000/api/aggregation/status"){this._baseUrl=e}getClientStatuses(){return e(this,void 0,void 0,(function*(){return yield pe.request({method:"GET",url:this._baseUrl,withCredentials:!0})}))}getClientStatus(t){return e(this,void 0,void 0,(function*(){return yield pe.request({method:"GET",url:this._baseUrl,params:{sessionId:t},withCredentials:!0})}))}static get[Symbol.for("___CTOR_ARGS___")](){return["string"]}}class Fe{constructor(e="http://localhost:5000/api/aggregation/config/"){this._baseUrl=e}getClientConfigs(){return e(this,void 0,void 0,(function*(){return yield pe.request({method:"GET",url:this._baseUrl+"client",withCredentials:!0})}))}getClientConfig(t){return e(this,void 0,void 0,(function*(){return yield pe.request({method:"GET",url:this._baseUrl+"client/"+t,withCredentials:!0})}))}getClientChannels(t){return e(this,void 0,void 0,(function*(){return yield pe.request({method:"GET",url:this._baseUrl+"client/"+t+"/channel"})}))}getChannel(t){return e(this,void 0,void 0,(function*(){return yield pe.request({method:"GET",url:this._baseUrl+"client/channel/"+t})}))}static get[Symbol.for("___CTOR_ARGS___")](){return[void 0]}}var He=Symbol.for("___CTOR_ARGS___"),Be="Note: You must use DI-Compiler (https://github.com/wessberg/di-compiler) for this library to work correctly. Please consult the readme for instructions on how to install and configure it for your project.",Ke=class e extends TypeError{#e="InstantiationError";#t;#n;#r;get[Symbol.toStringTag](){return this.#e}constructor(t,{identifier:n,parentChain:r,...i}){const o="string"==typeof t?t:t instanceof Error||"object"==typeof t&&null!=t&&"message"in t&&"string"==typeof t.message?t.message:void 0,s="string"==typeof t?void 0:t instanceof Error||"object"==typeof t&&null!=t&&"stack"in t&&"string"==typeof t.stack?t.stack:void 0,a=t instanceof Error?t:{message:o,stack:s};super(o,i),this.#n=n,this.#t=a,this.#r=null!=r&&r.length>0?r.map((e=>"string"==typeof e?e:e.identifier)):[this.#n],this.name=this[Symbol.toStringTag];let l=this.#t;for(;l instanceof e;)l=l.#t;const u=`Could not instantiate service: '${this.#r[this.#r.length-1]}'`,c=null==l.message||l.message.length<1?"":`: ${l.message}`,d=this.#r.length>1?` Dependency chain: ${this.#r.join(" -> ")}`:"";this.message=`${u}${c}${d}`,null!=l.stack&&(this.stack=l.stack)}};function Je(e){if("function"!=typeof e)return!1;const t=Object.getOwnPropertyDescriptor(e,"prototype");return!!t&&!t.writable}var Qe=class{get[Symbol.toStringTag](){return"DIContainer"}#i=new Map;#o=new Map;#s=new Map;registerSingleton(e,t){if(null==t)throw new ReferenceError(`2 arguments required, but only 0 present. ${Be}`);return this.#a("SINGLETON",e,t)}registerTransient(e,t){if(null==t)throw new ReferenceError(`2 arguments required, but only 0 present. ${Be}`);return this.#a("TRANSIENT",e,t)}get(e){if(null==e)throw new ReferenceError(`1 argument required, but only 0 present. ${Be}`);if(!this.has(e))throw new Ke("The service wasn't found in the registry.",{identifier:e.identifier});return this.#l(e)}has(e){if(null==e)throw new ReferenceError(`1 argument required, but only 0 present. ${Be}`);return this.#o.has(e.identifier)}#a(e,t,n){const r="implementation"in n&&null!=n.implementation?.[He]?n.implementation[He]:[];this.#i.set(n.identifier,r),this.#o.set(n.identifier,"implementation"in n&&null!=n.implementation?{...n,kind:e}:{...n,kind:e,newExpression:t})}#u(e){return null!=this.#c(e)}#c(e){const t=this.#s.get(e);return null==t?null:t}#d(e){return this.#o.get(e)}#f(e,t){return this.#s.set(e,t),t}#g(e){return new Proxy({},{get:(t,n)=>e()[n]})}#l({identifier:e,parentChain:t=[]}){const n=this.#d(e);if(null==n)return;if(this.#u(e)&&"SINGLETON"===n.kind)return this.#c(e);let r;const i={identifier:e,ref:this.#g((()=>r))},o="newExpression"in n?n.newExpression:n.implementation;if(Je(o)){const n=this.#i.get(e);if(null==n)throw new Ke("Could not find constructor arguments. Have you registered it as a service?",{identifier:e,parentChain:t});const s=n.map((e=>{if(void 0===e)return;const n=t.find((t=>t.identifier===e));if(null!=n)return n.ref;const r=[...t,i],o=this.#l({identifier:e,parentChain:r});if(null==o&&!this.has({identifier:e}))throw new Ke(`Dependency '${e}' was not found in the service registry.`,{identifier:i.identifier,parentChain:r});return o}));r=new o(...s)}else{if(Je(s=o)||"function"!=typeof s)throw new Ke("No implementation was given!",{identifier:e,parentChain:t});r=o()}var s;return"SINGLETON"===n.kind?this.#f(e,r):r}};const Ve=document.getElementById("content"),Ye="http://192.168.122.114:5000/api/aggregation",We=new Qe;We.registerSingleton((()=>new qe(Ye+"/status")),{identifier:"IClientStatusService"}),We.registerSingleton((()=>new Fe(Ye+"/config/")),{identifier:"IClientConfigService"}),We.registerSingleton(void 0,{identifier:"IStatusPageModel",implementation:t}),We.registerTransient(void 0,{identifier:"IStatusDetailsPageModel",implementation:n}),We.registerSingleton(void 0,{identifier:"IConfigPageModel",implementation:r}),We.registerTransient(void 0,{identifier:"IConfigDetailsPageModel",implementation:i}),We.registerSingleton(void 0,{identifier:"StatusPage",implementation:we}),We.registerTransient(void 0,{identifier:"StatusDetailsPage",implementation:Ie}),We.registerSingleton(void 0,{identifier:"ConfigPage",implementation:Pe}),We.registerTransient(void 0,{identifier:"ConfigDetailsPage",implementation:ze}),We.registerSingleton(void 0,{identifier:"Header",implementation:class{view(){return pe("nav",{class:"border-b overflow-hidden p-2 border-gray-400 mx-auto w-full max-w-screen-xl"},pe("div",{class:"flex items-center"},[pe(pe.route.Link,{class:"font-sans antialiased text-xl text-current mx-2 block py-1 font-semibold",href:"/status"},"UA Aggregation"),pe("div",{class:"ml-auto mr-2 block"},[pe("ul",{class:"m-2 flex flex-row gap-x-3 gap-y-1 m-0 items-center"},[pe("li",pe(pe.route.Link,{class:"font-sans antialiased text-xl text-current p-1 hover:text-primary",href:"/status"},"Status")),pe("li",pe(pe.route.Link,{class:"font-sans antialiased text-xl text-current p-1 hover:text-primary",href:"/config/uaclient"},"Config"))])])]))}}}),We.registerSingleton(void 0,{identifier:"Footer",implementation:class{view(){return pe("footer",{class:"border-t overflow-hidden p-2 border-gray-400 mx-auto w-full max-w-screen-xl"},pe("p",{class:"font-sans antialiased text-base text-current text-center"},"OPC UA Aggregation Client"))}}}),We.registerSingleton(void 0,{identifier:"Layout",implementation:Ue}),We.registerSingleton(void 0,{identifier:"IApp",implementation:Ge});const Xe=We.get({identifier:"IApp"});pe.route(Ve,"/status",Xe.Routes)}();

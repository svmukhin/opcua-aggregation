!function(){"use strict";function t(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{l(r.next(t))}catch(t){o(t)}}function a(t){try{l(r.throw(t))}catch(t){o(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}l((r=r.apply(t,e||[])).next())}))}"function"==typeof SuppressedError&&SuppressedError;class e{constructor(t){this._service=t}load(){return t(this,void 0,void 0,(function*(){this.list=yield this._service.getClientStatuses()}))}static get[Symbol.for("___CTOR_ARGS___")](){return["IClientStatusService"]}}class n{constructor(t){this._service=t}load(e){return t(this,void 0,void 0,(function*(){this.current=yield this._service.getClientStatus(e)}))}static get[Symbol.for("___CTOR_ARGS___")](){return["IClientStatusService"]}}class r{constructor(t){this._service=t}load(){return t(this,void 0,void 0,(function*(){this.list=yield this._service.getClientConfigs()}))}static get[Symbol.for("___CTOR_ARGS___")](){return["IClientConfigService"]}}class i{constructor(t){this._service=t}load(e){return t(this,void 0,void 0,(function*(){this.current=yield this._service.getClientConfig(e)}))}loadChannels(){return t(this,void 0,void 0,(function*(){this.current&&(this.current.channels=yield this._service.getClientChannels(this.current.id))}))}static get[Symbol.for("___CTOR_ARGS___")](){return["IClientConfigService"]}}function o(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s,a,l,u,c,d,f,g,m,v,h,p,y,b,x,w,_,S,C,k,E,I,R,T,A,O,P,D,N,j,M,z,L,$,U,G,q,F,H,B,K,J,Q,V,Y,W;function X(){if(a)return s;function t(t,e,n,r,i,o){return{tag:t,key:e,attrs:n,children:r,text:i,dom:o,domSize:void 0,state:void 0,events:void 0,instance:void 0}}return a=1,t.normalize=function(e){return Array.isArray(e)?t("[",void 0,void 0,t.normalizeChildren(e),void 0,void 0):null==e||"boolean"==typeof e?null:"object"==typeof e?e:t("#",void 0,void 0,String(e),void 0,void 0)},t.normalizeChildren=function(e){var n=[];if(e.length){for(var r=null!=e[0]&&null!=e[0].key,i=1;i<e.length;i++)if((null!=e[i]&&null!=e[i].key)!==r)throw new TypeError(!r||null==e[i]&&"boolean"!=typeof e[i]?"In fragments, vnodes must either all have keys or none have keys.":"In fragments, vnodes must either all have keys or none have keys. You may wish to consider using an explicit keyed empty fragment, m.fragment({key: ...}), instead of a hole.");for(i=0;i<e.length;i++)n[i]=t.normalize(e[i])}return n},s=t}function Z(){if(u)return l;u=1;var t=X();return l=function(){var e,n=arguments[this],r=this+1;if(null==n?n={}:("object"!=typeof n||null!=n.tag||Array.isArray(n))&&(n={},r=this),arguments.length===r+1)e=arguments[r],Array.isArray(e)||(e=[e]);else for(e=[];r<arguments.length;)e.push(arguments[r++]);return t("",n.key,n,e)},l}function tt(){return d?c:(d=1,c={}.hasOwnProperty)}function et(){if(g)return f;g=1;var t=X(),e=Z(),n=tt(),r=/(?:(^|#|\.)([^#\.\[\]]+))|(\[(.+?)(?:\s*=\s*("|'|)((?:\\["'\]]|.)*?)\5)?\])/g,i=Object.create(null);function o(t){for(var e,o="div",s=[],a={};e=r.exec(t);){var l=e[1],u=e[2];if(""===l&&""!==u)o=u;else if("#"===l)a.id=u;else if("."===l)s.push(u);else if("["===e[3][0]){var c=e[6];c&&(c=c.replace(/\\(["'])/g,"$1").replace(/\\\\/g,"\\")),"class"===e[4]?s.push(c):a[e[4]]=""===c?c:c||!0}}return s.length>0&&(a.className=s.join(" ")),function(t){for(var e in t)if(n.call(t,e))return!1;return!0}(a)&&(a=null),i[t]={tag:o,attrs:a}}return f=function(r){if(null==r||"string"!=typeof r&&"function"!=typeof r&&"function"!=typeof r.view)throw Error("The selector must be either a string or a component.");var s=e.apply(1,arguments);return"string"==typeof r&&(s.children=t.normalizeChildren(s.children),"["!==r)?function(t,e){var r=e.attrs,i=n.call(r,"class"),o=i?r.class:r.className;return e.tag=t.tag,null!=t.attrs?(r=Object.assign({},t.attrs,r),null==o&&null==t.attrs.className||(r.className=null!=o?null!=t.attrs.className?String(t.attrs.className)+" "+String(o):o:null!=t.attrs.className?t.attrs.className:null)):null!=o&&(r.className=o),i&&(r.class=null),"input"===t.tag&&n.call(r,"type")&&(r=Object.assign({type:r.type},r)),e.attrs=r,e}(i[r]||o(r),s):(s.tag=r,s)},f}function nt(){if(b)return y;b=1;var t=et();return t.trust=function(){if(v)return m;v=1;var t=X();return m=function(e){return null==e&&(e=""),t("<",void 0,void 0,e,void 0,void 0)}}(),t.fragment=function(){if(p)return h;p=1;var t=X(),e=Z();return h=function(){var n=e.apply(0,arguments);return n.tag="[",n.children=t.normalizeChildren(n.children),n},h}(),y=t}function rt(){if(w)return x;w=1;var t=new WeakMap;return x={delayedRemoval:t,domFor:function*(e,n={}){var r=e.dom,i=e.domSize,o=n.generation;if(null!=r)do{var s=r.nextSibling;t.get(r)===o&&(yield r,i--),r=s}while(i)}},x}function it(){if(S)return _;S=1;var t=X(),e=rt(),n=e.delayedRemoval,r=e.domFor;return _=function(){var e,i,o={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"};function s(t){return t.ownerDocument}function a(t){return t.attrs&&t.attrs.xmlns||o[t.tag]}function l(t,e){if(t.state!==e)throw new Error("'vnode.state' must not be modified.")}function u(t){var e=t.state;try{return this.apply(e,arguments)}finally{l(t,e)}}function c(t){try{return s(t).activeElement}catch(t){return null}}function d(t,e,n,r,i,o,s){for(var a=n;a<r;a++){var l=e[a];null!=l&&f(t,l,i,s,o)}}function f(e,n,r,i,o){var l=n.tag;if("string"==typeof l)switch(n.state={},null!=n.attrs&&j(n.attrs,n,r),l){case"#":!function(t,e,n){e.dom=s(t).createTextNode(e.children),_(t,e.dom,n)}(e,n,o);break;case"<":m(e,n,i,o);break;case"[":!function(t,e,n,r,i){var o=s(t).createDocumentFragment();if(null!=e.children){var a=e.children;d(o,a,0,a.length,n,null,r)}e.dom=o.firstChild,e.domSize=o.childNodes.length,_(t,o,i)}(e,n,r,i,o);break;default:!function(t,e,n,r,i){var o=e.tag,l=e.attrs,u=l&&l.is;r=a(e)||r;var c=r?u?s(t).createElementNS(r,o,{is:u}):s(t).createElementNS(r,o):u?s(t).createElement(o,{is:u}):s(t).createElement(o);e.dom=c,null!=l&&function(t,e,n){for(var r in e)R(t,r,null,e[r],n)}(e,l,r);if(_(t,c,i),!S(e)&&null!=e.children){var f=e.children;d(c,f,0,f.length,n,null,r),"select"===e.tag&&null!=l&&function(t,e){if("value"in e)if(null===e.value)-1!==t.dom.selectedIndex&&(t.dom.value=null);else{var n=""+e.value;t.dom.value===n&&-1!==t.dom.selectedIndex||(t.dom.value=n)}"selectedIndex"in e&&R(t,"selectedIndex",null,e.selectedIndex,void 0)}(e,l)}}(e,n,r,i,o)}else!function(e,n,r,i,o){(function(e,n){var r;if("function"==typeof e.tag.view){if(e.state=Object.create(e.tag),null!=(r=e.state.view).$$reentrantLock$$)return;r.$$reentrantLock$$=!0}else{if(e.state=void 0,null!=(r=e.tag).$$reentrantLock$$)return;r.$$reentrantLock$$=!0,e.state=null!=e.tag.prototype&&"function"==typeof e.tag.prototype.view?new e.tag(e):e.tag(e)}j(e.state,e,n),null!=e.attrs&&j(e.attrs,e,n);if(e.instance=t.normalize(u.call(e.state.view,e)),e.instance===e)throw Error("A view cannot return the vnode it received as argument");r.$$reentrantLock$$=null})(n,r),null!=n.instance?(f(e,n.instance,r,i,o),n.dom=n.instance.dom,n.domSize=null!=n.dom?n.instance.domSize:0):n.domSize=0}(e,n,r,i,o)}var g={caption:"table",thead:"table",tbody:"table",tfoot:"table",tr:"tbody",th:"tr",td:"tr",colgroup:"table",col:"colgroup"};function m(t,e,n,r){var i=e.children.match(/^\s*?<(\w+)/im)||[],o=s(t).createElement(g[i[1]]||"div");"http://www.w3.org/2000/svg"===n?(o.innerHTML='<svg xmlns="http://www.w3.org/2000/svg">'+e.children+"</svg>",o=o.firstChild):o.innerHTML=e.children,e.dom=o.firstChild,e.domSize=o.childNodes.length;for(var a,l=s(t).createDocumentFragment();a=o.firstChild;)l.appendChild(a);_(t,l,r)}function v(t,e,n,r,i,o){if(e!==n&&(null!=e||null!=n))if(null==e||0===e.length)d(t,n,0,n.length,r,i,o);else if(null==n||0===n.length)C(t,e,0,e.length);else{var s=null!=e[0]&&null!=e[0].key,a=null!=n[0]&&null!=n[0].key,l=0,u=0;if(!s)for(;u<e.length&&null==e[u];)u++;if(!a)for(;l<n.length&&null==n[l];)l++;if(s!==a)C(t,e,u,e.length),d(t,n,l,n.length,r,i,o);else if(a){for(var c,g,m,v,y,_=e.length-1,S=n.length-1;_>=u&&S>=l&&(m=e[_],v=n[S],m.key===v.key);)m!==v&&h(t,m,v,r,i,o),null!=v.dom&&(i=v.dom),_--,S--;for(;_>=u&&S>=l&&(c=e[u],g=n[l],c.key===g.key);)u++,l++,c!==g&&h(t,c,g,r,x(e,u,i),o);for(;_>=u&&S>=l&&l!==S&&c.key===v.key&&m.key===g.key;)w(t,m,y=x(e,u,i)),m!==g&&h(t,m,g,r,y,o),++l<=--S&&w(t,c,i),c!==v&&h(t,c,v,r,i,o),null!=v.dom&&(i=v.dom),u++,m=e[--_],v=n[S],c=e[u],g=n[l];for(;_>=u&&S>=l&&m.key===v.key;)m!==v&&h(t,m,v,r,i,o),null!=v.dom&&(i=v.dom),S--,m=e[--_],v=n[S];if(l>S)C(t,e,u,_+1);else if(u>_)d(t,n,l,S+1,r,i,o);else{var E,I,R=i,T=S-l+1,A=new Array(T),O=0,P=0,D=2147483647,N=0;for(P=0;P<T;P++)A[P]=-1;for(P=S;P>=l;P--){null==E&&(E=p(e,u,_+1));var j=E[(v=n[P]).key];null!=j&&(D=j<D?j:-1,A[P-l]=j,m=e[j],e[j]=null,m!==v&&h(t,m,v,r,i,o),null!=v.dom&&(i=v.dom),N++)}if(i=R,N!==_-u+1&&C(t,e,u,_+1),0===N)d(t,n,l,S+1,r,i,o);else if(-1===D)for(I=function(t){var e=[0],n=0,r=0,i=0,o=b.length=t.length;for(i=0;i<o;i++)b[i]=t[i];for(i=0;i<o;++i)if(-1!==t[i]){var s=e[e.length-1];if(t[s]<t[i])b[i]=s,e.push(i);else{for(n=0,r=e.length-1;n<r;){var a=(n>>>1)+(r>>>1)+(n&r&1);t[e[a]]<t[i]?n=a+1:r=a}t[i]<t[e[n]]&&(n>0&&(b[i]=e[n-1]),e[n]=i)}}n=e.length,r=e[n-1];for(;n-- >0;)e[n]=r,r=b[r];return b.length=0,e}(A),O=I.length-1,P=S;P>=l;P--)g=n[P],-1===A[P-l]?f(t,g,r,o,i):I[O]===P-l?O--:w(t,g,i),null!=g.dom&&(i=n[P].dom);else for(P=S;P>=l;P--)g=n[P],-1===A[P-l]&&f(t,g,r,o,i),null!=g.dom&&(i=n[P].dom)}}else{var M=e.length<n.length?e.length:n.length;for(l=l<u?l:u;l<M;l++)(c=e[l])===(g=n[l])||null==c&&null==g||(null==c?f(t,g,r,o,x(e,l+1,i)):null==g?k(t,c):h(t,c,g,r,x(e,l+1,i),o));e.length>M&&C(t,e,l,e.length),n.length>M&&d(t,n,l,n.length,r,i,o)}}}function h(e,n,r,i,o,s){var l=n.tag;if(l===r.tag){if(r.state=n.state,r.events=n.events,function(t,e){do{var n;if(null!=t.attrs&&"function"==typeof t.attrs.onbeforeupdate)if(void 0!==(n=u.call(t.attrs.onbeforeupdate,t,e))&&!n)break;if("string"!=typeof t.tag&&"function"==typeof t.state.onbeforeupdate)if(void 0!==(n=u.call(t.state.onbeforeupdate,t,e))&&!n)break;return!1}while(0);return t.dom=e.dom,t.domSize=e.domSize,t.instance=e.instance,t.attrs=e.attrs,t.children=e.children,t.text=e.text,!0}(r,n))return;if("string"==typeof l)switch(null!=r.attrs&&M(r.attrs,r,i),l){case"#":!function(t,e){t.children.toString()!==e.children.toString()&&(t.dom.nodeValue=e.children);e.dom=t.dom}(n,r);break;case"<":!function(t,e,n,r,i){e.children!==n.children?(E(t,e,void 0),m(t,n,r,i)):(n.dom=e.dom,n.domSize=e.domSize)}(e,n,r,s,o);break;case"[":!function(t,e,n,r,i,o){v(t,e.children,n.children,r,i,o);var s=0,a=n.children;if(n.dom=null,null!=a){for(var l=0;l<a.length;l++){var u=a[l];null!=u&&null!=u.dom&&(null==n.dom&&(n.dom=u.dom),s+=u.domSize||1)}1!==s&&(n.domSize=s)}}(e,n,r,i,o,s);break;default:!function(t,e,n,r){var i=e.dom=t.dom;r=a(e)||r,function(t,e,n,r){e&&e===n&&console.warn("Don't reuse attrs object, use new object for every redraw, this will throw in next major");if(null!=n)for(var i in n)R(t,i,e&&e[i],n[i],r);var o;if(null!=e)for(var i in e)null==(o=e[i])||null!=n&&null!=n[i]||T(t,i,o,r)}(e,t.attrs,e.attrs,r),S(e)||v(i,t.children,e.children,n,null,r)}(n,r,i,s)}else!function(e,n,r,i,o,s){if(r.instance=t.normalize(u.call(r.state.view,r)),r.instance===r)throw Error("A view cannot return the vnode it received as argument");M(r.state,r,i),null!=r.attrs&&M(r.attrs,r,i);null!=r.instance?(null==n.instance?f(e,r.instance,i,s,o):h(e,n.instance,r.instance,i,o,s),r.dom=r.instance.dom,r.domSize=r.instance.domSize):null!=n.instance?(k(e,n.instance),r.dom=void 0,r.domSize=0):(r.dom=n.dom,r.domSize=n.domSize)}(e,n,r,i,o,s)}else k(e,n),f(e,r,i,s,o)}function p(t,e,n){for(var r=Object.create(null);e<n;e++){var i=t[e];if(null!=i){var o=i.key;null!=o&&(r[o]=e)}}return r}var y,b=[];function x(t,e,n){for(;e<t.length;e++)if(null!=t[e]&&null!=t[e].dom)return t[e].dom;return n}function w(t,e,n){if(null!=e.dom){var i;if(null==e.domSize)i=e.dom;else for(var o of(i=s(t).createDocumentFragment(),r(e)))i.appendChild(o);_(t,i,n)}}function _(t,e,n){null!=n?t.insertBefore(e,n):t.appendChild(e)}function S(t){if(null==t.attrs||null==t.attrs.contenteditable&&null==t.attrs.contentEditable)return!1;var e=t.children;if(null!=e&&1===e.length&&"<"===e[0].tag){var n=e[0].children;t.dom.innerHTML!==n&&(t.dom.innerHTML=n)}else if(null!=e&&0!==e.length)throw new Error("Child node of a contenteditable must be trusted.");return!0}function C(t,e,n,r){for(var i=n;i<r;i++){var o=e[i];null!=o&&k(t,o)}}function k(t,e){var o,s,a,c,d=0,f=e.state;"string"!=typeof e.tag&&"function"==typeof e.state.onbeforeremove&&(null!=(a=u.call(e.state.onbeforeremove,e))&&"function"==typeof a.then&&(d=1,o=a));e.attrs&&"function"==typeof e.attrs.onbeforeremove&&(null!=(a=u.call(e.attrs.onbeforeremove,e))&&"function"==typeof a.then&&(d|=2,s=a));if(l(e,f),d){for(var g of(c=i,r(e)))n.set(g,c);null!=o&&o.finally((function(){1&d&&((d&=2)||(l(e,f),I(e),E(t,e,c)))})),null!=s&&s.finally((function(){2&d&&((d&=1)||(l(e,f),I(e),E(t,e,c)))}))}else I(e),E(t,e,c)}function E(t,e,i){if(null!=e.dom)if(null==e.domSize)n.get(e.dom)===i&&t.removeChild(e.dom);else for(var o of r(e,{generation:i}))t.removeChild(o)}function I(t){if("string"!=typeof t.tag&&"function"==typeof t.state.onremove&&u.call(t.state.onremove,t),t.attrs&&"function"==typeof t.attrs.onremove&&u.call(t.attrs.onremove,t),"string"!=typeof t.tag)null!=t.instance&&I(t.instance);else{var e=t.children;if(Array.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];null!=r&&I(r)}}}function R(t,e,n,r,i){if("key"!==e&&"is"!==e&&null!=r&&!A(e)&&(n!==r||function(t,e){return"value"===e||"checked"===e||"selectedIndex"===e||"selected"===e&&t.dom===c(t.dom)||"option"===t.tag&&t.dom.parentNode===c(t.dom)}(t,e)||"object"==typeof r)){if("o"===e[0]&&"n"===e[1])return N(t,e,r);if("xlink:"===e.slice(0,6))t.dom.setAttributeNS("http://www.w3.org/1999/xlink",e.slice(6),r);else if("style"===e)P(t.dom,n,r);else if(O(t,e,i)){if("value"===e){var o="input"===t.tag&&"file"===t.attrs.type;if(("input"===t.tag||"textarea"===t.tag)&&t.dom.value===""+r&&(o||t.dom===c(t.dom)))return;if("select"===t.tag&&null!==n&&t.dom.value===""+r)return;if("option"===t.tag&&null!==n&&t.dom.value===""+r)return;if(o&&""+r!="")return void console.error("`value` is read-only on file inputs!")}"input"===t.tag&&"type"===e?t.dom.setAttribute(e,r):t.dom[e]=r}else"boolean"==typeof r?r?t.dom.setAttribute(e,""):t.dom.removeAttribute(e):t.dom.setAttribute("className"===e?"class":e,r)}}function T(t,e,n,r){if("key"!==e&&"is"!==e&&null!=n&&!A(e))if("o"===e[0]&&"n"===e[1])N(t,e,void 0);else if("style"===e)P(t.dom,n,null);else if(!O(t,e,r)||"className"===e||"title"===e||"value"===e&&("option"===t.tag||"select"===t.tag&&-1===t.dom.selectedIndex&&t.dom===c(t.dom))||"input"===t.tag&&"type"===e){var i=e.indexOf(":");-1!==i&&(e=e.slice(i+1)),!1!==n&&t.dom.removeAttribute("className"===e?"class":e)}else t.dom[e]=null}function A(t){return"oninit"===t||"oncreate"===t||"onupdate"===t||"onremove"===t||"onbeforeremove"===t||"onbeforeupdate"===t}function O(t,e,n){return void 0===n&&(t.tag.indexOf("-")>-1||null!=t.attrs&&t.attrs.is||"href"!==e&&"list"!==e&&"form"!==e&&"width"!==e&&"height"!==e)&&e in t.dom}function P(t,e,n){if(e===n);else if(null==n)t.style="";else if("object"!=typeof n)t.style=n;else if(null==e||"object"!=typeof e)for(var r in t.style.cssText="",n){null!=(i=n[r])&&(r.includes("-")?t.style.setProperty(r,String(i)):t.style[r]=String(i))}else{for(var r in n){var i;null!=(i=n[r])&&(i=String(i))!==String(e[r])&&(r.includes("-")?t.style.setProperty(r,i):t.style[r]=i)}for(var r in e)null!=e[r]&&null==n[r]&&(r.includes("-")?t.style.removeProperty(r):t.style[r]="")}}function D(){this._=e}function N(t,n,r){if(null!=t.events){if(t.events._=e,t.events[n]===r)return;null==r||"function"!=typeof r&&"object"!=typeof r?(null!=t.events[n]&&t.dom.removeEventListener(n.slice(2),t.events,!1),t.events[n]=void 0):(null==t.events[n]&&t.dom.addEventListener(n.slice(2),t.events,!1),t.events[n]=r)}else null==r||"function"!=typeof r&&"object"!=typeof r||(t.events=new D,t.dom.addEventListener(n.slice(2),t.events,!1),t.events[n]=r)}function j(t,e,n){"function"==typeof t.oninit&&u.call(t.oninit,e),"function"==typeof t.oncreate&&n.push(u.bind(t.oncreate,e))}function M(t,e,n){"function"==typeof t.onupdate&&n.push(u.bind(t.onupdate,e))}return D.prototype=Object.create(null),D.prototype.handleEvent=function(t){var e,n=this["on"+t.type];"function"==typeof n?e=n.call(t.currentTarget,t):"function"==typeof n.handleEvent&&n.handleEvent(t),this._&&!1!==t.redraw&&(0,this._)(),!1===e&&(t.preventDefault(),t.stopPropagation())},function(n,r,o){if(!n)throw new TypeError("DOM element being rendered to does not exist.");if(null!=y&&n.contains(y))throw new TypeError("Node is currently being rendered to and thus is locked.");var s=e,a=y,l=[],u=c(n),d=n.namespaceURI;y=n,e="function"==typeof o?o:void 0,i={};try{null==n.vnodes&&(n.textContent=""),r=t.normalizeChildren(Array.isArray(r)?r:[r]),v(n,n.vnodes,r,l,null,"http://www.w3.org/1999/xhtml"===d?void 0:d),n.vnodes=r,null!=u&&c(n)!==u&&"function"==typeof u.focus&&u.focus();for(var f=0;f<l.length;f++)l[f]()}finally{e=s,y=a}}},_}function ot(){return k?C:(k=1,C=it()("undefined"!=typeof window?window:null))}function st(){if(T)return R;T=1;var t=ot();return R=function(){if(I)return E;I=1;var t=X();return E=function(e,n,r){var i=[],o=!1,s=-1;function a(){for(s=0;s<i.length;s+=2)try{e(i[s],t(i[s+1]),l)}catch(t){r.error(t)}s=-1}function l(){o||(o=!0,n((function(){o=!1,a()})))}return l.sync=a,{mount:function(n,r){if(null!=r&&null==r.view&&"function"!=typeof r)throw new TypeError("m.mount expects a component, not a vnode.");var o=i.indexOf(n);o>=0&&(i.splice(o,2),o<=s&&(s-=2),e(n,[])),null!=r&&(i.push(n,r),e(n,t(r),l))},redraw:l}},E}()(t,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null,"undefined"!=typeof console?console:null),R}function at(){return O?A:(O=1,A=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return"";var e=[];for(var n in t)r(n,t[n]);return e.join("&");function r(t,n){if(Array.isArray(n))for(var i=0;i<n.length;i++)r(t+"["+i+"]",n[i]);else if("[object Object]"===Object.prototype.toString.call(n))for(var i in n)r(t+"["+i+"]",n[i]);else e.push(encodeURIComponent(t)+(null!=n&&""!==n?"="+encodeURIComponent(n):""))}})}function lt(){if(D)return P;D=1;var t=at();return P=function(e,n){if(/:([^\/\.-]+)(\.{3})?:/.test(e))throw new SyntaxError("Template parameter names must be separated by either a '/', '-', or '.'.");if(null==n)return e;var r=e.indexOf("?"),i=e.indexOf("#"),o=i<0?e.length:i,s=r<0?o:r,a=e.slice(0,s),l={};Object.assign(l,n);var u=a.replace(/:([^\/\.-]+)(\.{3})?/g,(function(t,e,r){return delete l[e],null==n[e]?t:r?n[e]:encodeURIComponent(String(n[e]))})),c=u.indexOf("?"),d=u.indexOf("#"),f=d<0?u.length:d,g=c<0?f:c,m=u.slice(0,g);r>=0&&(m+=e.slice(r,o)),c>=0&&(m+=(r<0?"?":"&")+u.slice(c,f));var v=t(l);return v&&(m+=(r<0&&c<0?"?":"&")+v),i>=0&&(m+=e.slice(i)),d>=0&&(m+=(i<0?"":"&")+u.slice(d)),m},P}function ut(){if(j)return N;j=1;var t=lt(),e=tt();return N=function(n,r){function i(t){return new Promise(t)}function o(t,n){for(var r in t.headers)if(e.call(t.headers,r)&&r.toLowerCase()===n)return!0;return!1}return i.prototype=Promise.prototype,i.__proto__=Promise,{request:function(s,a){"string"!=typeof s?(a=s,s=s.url):null==a&&(a={});var l=function(r,i){return new Promise((function(s,a){r=t(r,i.params);var l,u=null!=i.method?i.method.toUpperCase():"GET",c=i.body,d=(null==i.serialize||i.serialize===JSON.serialize)&&!(c instanceof n.FormData||c instanceof n.URLSearchParams),f=i.responseType||("function"==typeof i.extract?"":"json"),g=new n.XMLHttpRequest,m=!1,v=!1,h=g,p=g.abort;for(var y in g.abort=function(){m=!0,p.call(this)},g.open(u,r,!1!==i.async,"string"==typeof i.user?i.user:void 0,"string"==typeof i.password?i.password:void 0),d&&null!=c&&!o(i,"content-type")&&g.setRequestHeader("Content-Type","application/json; charset=utf-8"),"function"==typeof i.deserialize||o(i,"accept")||g.setRequestHeader("Accept","application/json, text/*"),i.withCredentials&&(g.withCredentials=i.withCredentials),i.timeout&&(g.timeout=i.timeout),g.responseType=f,i.headers)e.call(i.headers,y)&&g.setRequestHeader(y,i.headers[y]);g.onreadystatechange=function(t){if(!m&&4===t.target.readyState)try{var e,n=t.target.status>=200&&t.target.status<300||304===t.target.status||/^file:\/\//i.test(r),o=t.target.response;if("json"===f){if(!t.target.responseType&&"function"!=typeof i.extract)try{o=JSON.parse(t.target.responseText)}catch(t){o=null}}else f&&"text"!==f||null==o&&(o=t.target.responseText);if("function"==typeof i.extract?(o=i.extract(t.target,i),n=!0):"function"==typeof i.deserialize&&(o=i.deserialize(o)),n){if("function"==typeof i.type)if(Array.isArray(o))for(var l=0;l<o.length;l++)o[l]=new i.type(o[l]);else o=new i.type(o);s(o)}else{var u=function(){try{e=t.target.responseText}catch(t){e=o}var n=new Error(e);n.code=t.target.status,n.response=o,a(n)};0===g.status?setTimeout((function(){v||u()})):u()}}catch(t){a(t)}},g.ontimeout=function(t){v=!0;var e=new Error("Request timed out");e.code=t.target.status,a(e)},"function"==typeof i.config&&(g=i.config(g,i,r)||g)!==h&&(l=g.abort,g.abort=function(){m=!0,l.call(this)}),null==c?g.send():"function"==typeof i.serialize?g.send(i.serialize(c)):c instanceof n.FormData||c instanceof n.URLSearchParams?g.send(c):g.send(JSON.stringify(c))}))}(s,a);if(!0===a.background)return l;var u=0;function c(){0==--u&&"function"==typeof r&&r()}return function t(e){var n=e.then;return e.constructor=i,e.then=function(){u++;var r=n.apply(e,arguments);return r.then(c,(function(t){if(c(),0===u)throw t})),t(r)},e}(l)}}},N}function ct(){if(z)return M;z=1;var t=st();return M=ut()("undefined"!=typeof window?window:null,t.redraw)}function dt(){if($)return L;function t(t){try{return decodeURIComponent(t)}catch(e){return t}}return $=1,L=function(e){if(""===e||null==e)return{};"?"===e.charAt(0)&&(e=e.slice(1));for(var n=e.split("&"),r={},i={},o=0;o<n.length;o++){var s=n[o].split("="),a=t(s[0]),l=2===s.length?t(s[1]):"";"true"===l?l=!0:"false"===l&&(l=!1);var u=a.split(/\]\[?|\[/),c=i;a.indexOf("[")>-1&&u.pop();for(var d=0;d<u.length;d++){var f=u[d],g=u[d+1],m=""==g||!isNaN(parseInt(g,10));if(""===f)null==r[a=u.slice(0,d).join()]&&(r[a]=Array.isArray(c)?c.length:0),f=r[a]++;else if("__proto__"===f)break;if(d===u.length-1)c[f]=l;else{var v=Object.getOwnPropertyDescriptor(c,f);null!=v&&(v=v.value),null==v&&(c[f]=v=m?[]:{}),c=v}}}return i}}function ft(){if(G)return U;G=1;var t=dt();return U=function(e){var n=e.indexOf("?"),r=e.indexOf("#"),i=r<0?e.length:r,o=n<0?i:n,s=e.slice(0,o).replace(/\/{2,}/g,"/");return s?"/"!==s[0]&&(s="/"+s):s="/",{path:s,params:n<0?{}:t(e.slice(n+1,i))}}}function gt(){if(F)return q;F=1;var t=ft();return q=function(e){var n=t(e),r=Object.keys(n.params),i=[],o=new RegExp("^"+n.path.replace(/:([^\/.-]+)(\.{3}|\.(?!\.)|-)?|[\\^$*+.()|\[\]{}]/g,(function(t,e,n){return null==e?"\\"+t:(i.push({k:e,r:"..."===n}),"..."===n?"(.*)":"."===n?"([^/]+)\\.":"([^/]+)"+(n||""))}))+"$");return function(t){for(var e=0;e<r.length;e++)if(n.params[r[e]]!==t.params[r[e]])return!1;if(!i.length)return o.test(t.path);var s=o.exec(t.path);if(null==s)return!1;for(e=0;e<i.length;e++)t.params[i[e].k]=i[e].r?s[e+1]:decodeURIComponent(s[e+1]);return!0}},q}function mt(){if(B)return H;B=1;var t=tt(),e=new RegExp("^(?:key|oninit|oncreate|onbeforeupdate|onupdate|onbeforeremove|onremove)$");return H=function(n,r){var i={};if(null!=r)for(var o in n)t.call(n,o)&&!e.test(o)&&r.indexOf(o)<0&&(i[o]=n[o]);else for(var o in n)t.call(n,o)&&!e.test(o)&&(i[o]=n[o]);return i}}function vt(){if(V)return Q;V=1;var t=st();return Q=function(){if(J)return K;J=1;var t=X(),e=et(),n=lt(),r=ft(),i=gt(),o=mt(),s={};function a(t){try{return decodeURIComponent(t)}catch(e){return t}}return K=function(l,u){var c,d,f,g,m,v,h=null==l?null:"function"==typeof l.setImmediate?l.setImmediate:l.setTimeout,p=Promise.resolve(),y=!1,b=!1,x=0,w=s,_={onbeforeupdate:function(){return!(!(x=x?2:1)||s===w)},onremove:function(){l.removeEventListener("popstate",k,!1),l.removeEventListener("hashchange",C,!1)},view:function(){if(x&&s!==w){var e=[t(f,g.key,g)];return w&&(e=w.render(e[0])),e}}},S=I.SKIP={};function C(){y=!1;var t=l.location.hash;"#"!==I.prefix[0]&&(t=l.location.search+t,"?"!==I.prefix[0]&&"/"!==(t=l.location.pathname+t)[0]&&(t="/"+t));var e=t.concat().replace(/(?:%[a-f89][a-f0-9])+/gim,a).slice(I.prefix.length),n=r(e);function i(t){console.error(t),E(d,null,{replace:!0})}Object.assign(n.params,l.history.state),function t(r){for(;r<c.length;r++)if(c[r].check(n)){var o=c[r].component,s=c[r].route,a=o,l=v=function(i){if(l===v){if(i===S)return t(r+1);f=null==i||"function"!=typeof i.view&&"function"!=typeof i?"div":i,g=n.params,m=e,v=null,w=o.render?o:null,2===x?u.redraw():(x=2,u.redraw.sync())}};return void(o.view||"function"==typeof o?(o={},l(a)):o.onmatch?p.then((function(){return o.onmatch(n.params,e,s)})).then(l,e===d?null:i):l("div"))}if(e===d)throw new Error("Could not resolve default route "+d+".");E(d,null,{replace:!0})}(0)}function k(){y||(y=!0,h(C))}function E(t,e,r){if(t=n(t,e),b){k();var i=r?r.state:null,o=r?r.title:null;r&&r.replace?l.history.replaceState(i,o,I.prefix+t):l.history.pushState(i,o,I.prefix+t)}else l.location.href=I.prefix+t}function I(t,e,n){if(!t)throw new TypeError("DOM element being rendered to does not exist.");if(c=Object.keys(n).map((function(t){if("/"!==t[0])throw new SyntaxError("Routes must start with a '/'.");if(/:([^\/\.-]+)(\.{3})?:/.test(t))throw new SyntaxError("Route parameter names must be separated with either '/', '.', or '-'.");return{route:t,component:n[t],check:i(t)}})),d=e,null!=e){var o=r(e);if(!c.some((function(t){return t.check(o)})))throw new ReferenceError("Default route doesn't match any known routes.")}"function"==typeof l.history.pushState?l.addEventListener("popstate",k,!1):"#"===I.prefix[0]&&l.addEventListener("hashchange",C,!1),b=!0,u.mount(t,_),C()}return I.set=function(t,e,n){null!=v&&((n=n||{}).replace=!0),v=null,E(t,e,n)},I.get=function(){return m},I.prefix="#!",I.Link={view:function(t){var r,i,s,a=e(t.attrs.selector||"a",o(t.attrs,["options","params","selector","onclick"]),t.children);return(a.attrs.disabled=Boolean(a.attrs.disabled))?(a.attrs.href=null,a.attrs["aria-disabled"]="true"):(r=t.attrs.options,i=t.attrs.onclick,s=n(a.attrs.href,t.attrs.params),a.attrs.href=I.prefix+s,a.attrs.onclick=function(t){var e;"function"==typeof i?e=i.call(t.currentTarget,t):null==i||"object"!=typeof i||"function"==typeof i.handleEvent&&i.handleEvent(t),!1===e||t.defaultPrevented||0!==t.button&&0!==t.which&&1!==t.which||t.currentTarget.target&&"_self"!==t.currentTarget.target||t.ctrlKey||t.metaKey||t.shiftKey||t.altKey||(t.preventDefault(),t.redraw=!1,I.set(s,null,r))}),a}},I.param=function(t){return g&&null!=t?g[t]:g},I},K}()("undefined"!=typeof window?window:null,t),Q}var ht=function(){if(W)return Y;W=1;var t=nt(),e=ct(),n=st(),r=rt(),i=function(){return t.apply(this,arguments)};return i.m=t,i.trust=t.trust,i.fragment=t.fragment,i.Fragment="[",i.mount=n.mount,i.route=vt(),i.render=ot(),i.redraw=n.redraw,i.request=e.request,i.parseQueryString=dt(),i.buildQueryString=at(),i.parsePathname=ft(),i.buildPathname=lt(),i.vnode=X(),i.censor=mt(),i.domFor=r.domFor,Y=i}(),pt=o(ht);const yt={view:t=>{var e,n,r,i;return pt("tr",{class:"border-b border-gray-400 last:border-0"},[pt("td",{class:"p-3"},null===(e=t.attrs.status)||void 0===e?void 0:e.sessionName),pt("td",{class:"p-3"},null===(n=t.attrs.status)||void 0===n?void 0:n.serverUri),pt("td",{class:"p-3"},null===(r=t.attrs.status)||void 0===r?void 0:r.connectError),pt("td",{class:"p-3"},pt(pt.route.Link,{class:"font-sans antialiased text-sm text-current font-medium hover:text-primary",href:"/status/"+(null===(i=t.attrs.status)||void 0===i?void 0:i.id)},"Details"))])}},bt={view:t=>{var e;return pt("table",{class:"w-full"},[pt("thead",{class:"border-b border-gray-400 bg-gray-400 text-gray-900 text-sm font-medium"},[pt("tr",[pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Name"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Server Uri"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Connect Error"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Monitored Items")])]),pt("tbody",{class:"group text-sm"},null===(e=t.attrs.statuses)||void 0===e?void 0:e.map((t=>pt(yt,{status:t}))))])}},xt={view:t=>pt("div",{class:"m-2 p-2 overflow-hidden rounded-lg border border-gray-400"},t.children)};class wt{constructor(t){this.statusModel=t}oninit(){return t(this,void 0,void 0,(function*(){yield this.statusModel.load()}))}view(){return pt("div",{class:"flex flex-col"},[pt(xt,pt(bt,{statuses:this.statusModel.list}))])}static get[Symbol.for("___CTOR_ARGS___")](){return["IStatusPageModel"]}}const _t=t=>new Date(t).toLocaleDateString("ru-RU",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",second:"2-digit"}),St=t=>0===t?"Good":"Bad",Ct={view:t=>pt("tr",{class:"border-b border-gray-400 last:border-0"},[pt("td",{class:"p-3"},t.attrs.item.tagId),pt("td",{class:"p-3"},t.attrs.item.aggregationTag.value),pt("td",{class:"p-3"},_t(t.attrs.item.aggregationTag.timestamp)),pt("td",{class:"p-3"},St(t.attrs.item.aggregationTag.statusCode))])},kt={view:t=>{var e;return pt("table",{class:"w-full"},[pt("thead",{class:"border-b border-gray-400 bg-gray-400 text-gray-900 text-sm font-medium"},pt("tr",[pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Node Id"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Value"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Timestamp"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Quality")])),pt("tbody",{class:"group text-sm"},null===(e=t.attrs.items)||void 0===e?void 0:e.map((t=>pt(Ct,{item:t}))))])}},Et={view:t=>{var e,n,r,i;return pt("dl",{class:"w-sm divide-y divide-gray-400"},[pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Session ID: "),pt("dd",{class:"text-lg font-semibold"},null===(e=t.attrs.status)||void 0===e?void 0:e.id)]),pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Session Name: "),pt("dd",{class:"text-lg font-semibold"},null===(n=t.attrs.status)||void 0===n?void 0:n.sessionName)]),pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Session URI: "),pt("dd",{class:"text-lg font-semibold"},null===(r=t.attrs.status)||void 0===r?void 0:r.serverUri)]),pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Connect Error: "),pt("dd",{class:"text-lg font-semibold"},null===(i=t.attrs.status)||void 0===i?void 0:i.connectError)])])}};class It{constructor(t){this._statusDetailsModel=t}oninit(e){return t(this,void 0,void 0,(function*(){yield this._statusDetailsModel.load(e.attrs.id)}))}view(t){var e;return pt("div",[pt("div",{class:"flex flex-wrap"},[pt(xt,pt(Et,{status:this._statusDetailsModel.current}))]),pt("div",{class:"flex flex-col"},[pt(xt,pt(kt,{items:null===(e=this._statusDetailsModel.current)||void 0===e?void 0:e.monitoredItems}))])])}static get[Symbol.for("___CTOR_ARGS___")](){return["IStatusDetailsPageModel"]}}const Rt={view:t=>{var e,n,r,i,o;return pt("tr",{class:"border-b border-gray-400 last:border-0"},[pt("td",{class:"p-3"},null===(e=t.attrs.config)||void 0===e?void 0:e.sessionName),pt("td",{class:"p-3"},null===(n=t.attrs.config)||void 0===n?void 0:n.serverUri),pt("td",{class:"p-3"},null===(r=t.attrs.config)||void 0===r?void 0:r.description),pt("td",{class:"p-3"},(null===(i=t.attrs.config)||void 0===i?void 0:i.enabled)?"Enabled":"Disabled"),pt("td",{class:"p-3"},pt(pt.route.Link,{class:"font-sans antialiased text-sm text-current font-medium hover:text-primary",href:"/config/uaclient/"+(null===(o=t.attrs.config)||void 0===o?void 0:o.id)},"Details"))])}},Tt={view:t=>{var e;return pt("table",{class:"w-full"},[pt("thead",{class:"border-b border-gray-400 bg-gray-400 text-gray-900 text-sm font-medium"},[pt("tr",[pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Name"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Server Uri"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Description"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Enabled"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Details")])]),pt("tbody",{class:"group text-sm"},null===(e=t.attrs.configs)||void 0===e?void 0:e.map((t=>pt(Rt,{config:t}))))])}};class At{constructor(t){this.configModel=t}oninit(){return t(this,void 0,void 0,(function*(){yield this.configModel.load()}))}view(){return pt("div",{class:"flex flex-col"},[pt(xt,pt(Tt,{configs:this.configModel.list}))])}static get[Symbol.for("___CTOR_ARGS___")](){return["IConfigPageModel"]}}const Ot={view:t=>{var e,n,r,i,o;return pt("dl",{class:"w-sm divide-y divide-gray-400"},[pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Session ID: "),pt("dd",{class:"text-lg font-semibold"},null===(e=t.attrs.config)||void 0===e?void 0:e.id)]),pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Session Name: "),pt("dd",{class:"text-lg font-semibold"},null===(n=t.attrs.config)||void 0===n?void 0:n.sessionName)]),pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Session URI: "),pt("dd",{class:"text-lg font-semibold"},null===(r=t.attrs.config)||void 0===r?void 0:r.serverUri)]),pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Description: "),pt("dd",{class:"text-lg font-semibold"},null===(i=t.attrs.config)||void 0===i?void 0:i.description)]),pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Enabled: "),pt("dd",{class:"text-lg font-semibold"},(null===(o=t.attrs.config)||void 0===o?void 0:o.enabled)?"Enabledd":"Disabld")])])}},Pt={view:t=>{var e,n,r;return pt("dl",{class:"w-sm divide-y divide-gray-400"},[pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Keep Alive Interval: "),pt("dd",{class:"text-lg font-semibold"},null===(e=t.attrs.config)||void 0===e?void 0:e.keepAliveInterval)]),pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Reconnect Period: "),pt("dd",{class:"text-lg font-semibold"},null===(n=t.attrs.config)||void 0===n?void 0:n.reconnectPeriod)]),pt("div",{class:"flex flex-col pb-3"},[pt("dt",{class:"mb-1 text-lg text-gray-400"},"Session Lifetime: "),pt("dd",{class:"text-lg font-semibold"},null===(r=t.attrs.config)||void 0===r?void 0:r.sessionLifetime)])])}},Dt={view:t=>pt("tr",{class:"border-b border-gray-400 last:border-0"},[pt("td",{class:"p-3"},t.attrs.channel.nodeId),pt("td",{class:"p-3"},t.attrs.channel.name),pt("td",{class:"p-3"},t.attrs.channel.description),pt("td",{class:"p-3"},t.attrs.channel.id)])},Nt={view:t=>{var e;return pt("table",{class:"w-full"},[pt("thead",{class:"border-b border-gray-400 bg-gray-400 text-gray-900 text-sm font-medium"},pt("tr",[pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Node Id"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Name"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"Description"),pt("th",{class:"px-2.5 py-2 text-start font-medium"},"")])),pt("tbody",{class:"text-sm"},null===(e=t.attrs.channels)||void 0===e?void 0:e.map((t=>pt(Dt,{channel:t}))))])}};class jt{constructor(t){this.configModel=t}oninit(e){return t(this,void 0,void 0,(function*(){yield this.configModel.load(e.attrs.id),yield this.configModel.loadChannels()}))}view(t){var e;return pt("div",[pt("div",{class:"flex flex-wrap"},[pt(xt,pt(Ot,{config:this.configModel.current})),pt(xt,pt(Pt,{config:this.configModel.current}))]),pt("div",{class:"flex flex-col"},[pt(xt,pt(Nt,{channels:null===(e=this.configModel.current)||void 0===e?void 0:e.channels}))])])}static get[Symbol.for("___CTOR_ARGS___")](){return["IConfigDetailsPageModel"]}}const Mt=document.getElementById("header"),zt=document.getElementById("footer");class Lt{constructor(t,e){this._header=t,this._footer=e}oninit(){pt.mount(Mt,this._header),pt.mount(zt,this._footer)}view(t){return pt("div",{class:"w-full max-w-screen-xl"},t.children)}static get[Symbol.for("___CTOR_ARGS___")](){return["Header","Footer"]}}class $t{constructor(t,e,n,r,i){this._layout=t,this._statusPage=e,this._statusDetailsPage=n,this._configPage=r,this._configDetailsPage=i,this.Routes={"/status":{render:()=>pt(this._layout,pt(this._statusPage))},"/status/:key":{render:t=>pt(this._layout,pt(this._statusDetailsPage,{id:t.attrs.key}))},"/config/uaclient":{render:()=>pt(this._layout,pt(this._configPage))},"/config/uaclient/:key":{render:t=>pt(this._layout,pt(this._configDetailsPage,{id:t.attrs.key}))}}}static get[Symbol.for("___CTOR_ARGS___")](){return["Layout","StatusPage","StatusDetailsPage","ConfigPage","ConfigDetailsPage"]}}class Ut{constructor(t="http://localhost:5000/api/aggregation/status"){this._baseUrl=t}getClientStatuses(){return t(this,void 0,void 0,(function*(){return yield pt.request({method:"GET",url:this._baseUrl,withCredentials:!0})}))}getClientStatus(e){return t(this,void 0,void 0,(function*(){return yield pt.request({method:"GET",url:this._baseUrl,params:{sessionId:e},withCredentials:!0})}))}static get[Symbol.for("___CTOR_ARGS___")](){return["string"]}}class Gt{constructor(t="http://localhost:5000/api/aggregation/config/"){this._baseUrl=t}getClientConfigs(){return t(this,void 0,void 0,(function*(){return yield pt.request({method:"GET",url:this._baseUrl+"client",withCredentials:!0})}))}getClientConfig(e){return t(this,void 0,void 0,(function*(){return yield pt.request({method:"GET",url:this._baseUrl+"client/"+e,withCredentials:!0})}))}getClientChannels(e){return t(this,void 0,void 0,(function*(){return yield pt.request({method:"GET",url:this._baseUrl+"client/"+e+"/channel"})}))}getChannel(e){return t(this,void 0,void 0,(function*(){return yield pt.request({method:"GET",url:this._baseUrl+"client/channel/"+e})}))}static get[Symbol.for("___CTOR_ARGS___")](){return[void 0]}}var qt=Symbol.for("___CTOR_ARGS___"),Ft="Note: You must use DI-Compiler (https://github.com/wessberg/di-compiler) for this library to work correctly. Please consult the readme for instructions on how to install and configure it for your project.",Ht=class t extends TypeError{#t="InstantiationError";#e;#n;#r;get[Symbol.toStringTag](){return this.#t}constructor(e,{identifier:n,parentChain:r,...i}){const o="string"==typeof e?e:e instanceof Error||"object"==typeof e&&null!=e&&"message"in e&&"string"==typeof e.message?e.message:void 0,s="string"==typeof e?void 0:e instanceof Error||"object"==typeof e&&null!=e&&"stack"in e&&"string"==typeof e.stack?e.stack:void 0,a=e instanceof Error?e:{message:o,stack:s};super(o,i),this.#n=n,this.#e=a,this.#r=null!=r&&r.length>0?r.map((t=>"string"==typeof t?t:t.identifier)):[this.#n],this.name=this[Symbol.toStringTag];let l=this.#e;for(;l instanceof t;)l=l.#e;const u=`Could not instantiate service: '${this.#r[this.#r.length-1]}'`,c=null==l.message||l.message.length<1?"":`: ${l.message}`,d=this.#r.length>1?` Dependency chain: ${this.#r.join(" -> ")}`:"";this.message=`${u}${c}${d}`,null!=l.stack&&(this.stack=l.stack)}};function Bt(t){if("function"!=typeof t)return!1;const e=Object.getOwnPropertyDescriptor(t,"prototype");return!!e&&!e.writable}var Kt=class{get[Symbol.toStringTag](){return"DIContainer"}#i=new Map;#o=new Map;#s=new Map;registerSingleton(t,e){if(null==e)throw new ReferenceError(`2 arguments required, but only 0 present. ${Ft}`);return this.#a("SINGLETON",t,e)}registerTransient(t,e){if(null==e)throw new ReferenceError(`2 arguments required, but only 0 present. ${Ft}`);return this.#a("TRANSIENT",t,e)}get(t){if(null==t)throw new ReferenceError(`1 argument required, but only 0 present. ${Ft}`);if(!this.has(t))throw new Ht("The service wasn't found in the registry.",{identifier:t.identifier});return this.#l(t)}has(t){if(null==t)throw new ReferenceError(`1 argument required, but only 0 present. ${Ft}`);return this.#o.has(t.identifier)}#a(t,e,n){const r="implementation"in n&&null!=n.implementation?.[qt]?n.implementation[qt]:[];this.#i.set(n.identifier,r),this.#o.set(n.identifier,"implementation"in n&&null!=n.implementation?{...n,kind:t}:{...n,kind:t,newExpression:e})}#u(t){return null!=this.#c(t)}#c(t){const e=this.#s.get(t);return null==e?null:e}#d(t){return this.#o.get(t)}#f(t,e){return this.#s.set(t,e),e}#g(t){return new Proxy({},{get:(e,n)=>t()[n]})}#l({identifier:t,parentChain:e=[]}){const n=this.#d(t);if(null==n)return;if(this.#u(t)&&"SINGLETON"===n.kind)return this.#c(t);let r;const i={identifier:t,ref:this.#g((()=>r))},o="newExpression"in n?n.newExpression:n.implementation;if(Bt(o)){const n=this.#i.get(t);if(null==n)throw new Ht("Could not find constructor arguments. Have you registered it as a service?",{identifier:t,parentChain:e});const s=n.map((t=>{if(void 0===t)return;const n=e.find((e=>e.identifier===t));if(null!=n)return n.ref;const r=[...e,i],o=this.#l({identifier:t,parentChain:r});if(null==o&&!this.has({identifier:t}))throw new Ht(`Dependency '${t}' was not found in the service registry.`,{identifier:i.identifier,parentChain:r});return o}));r=new o(...s)}else{if(Bt(s=o)||"function"!=typeof s)throw new Ht("No implementation was given!",{identifier:t,parentChain:e});r=o()}var s;return"SINGLETON"===n.kind?this.#f(t,r):r}};const Jt=document.getElementById("content"),Qt="http://192.168.122.114:5000/api/aggregation",Vt=new Kt;Vt.registerSingleton((()=>new Ut(Qt+"/status")),{identifier:"IClientStatusService"}),Vt.registerSingleton((()=>new Gt(Qt+"/config/")),{identifier:"IClientConfigService"}),Vt.registerSingleton(void 0,{identifier:"IStatusPageModel",implementation:e}),Vt.registerTransient(void 0,{identifier:"IStatusDetailsPageModel",implementation:n}),Vt.registerSingleton(void 0,{identifier:"IConfigPageModel",implementation:r}),Vt.registerTransient(void 0,{identifier:"IConfigDetailsPageModel",implementation:i}),Vt.registerSingleton(void 0,{identifier:"StatusPage",implementation:wt}),Vt.registerTransient(void 0,{identifier:"StatusDetailsPage",implementation:It}),Vt.registerSingleton(void 0,{identifier:"ConfigPage",implementation:At}),Vt.registerTransient(void 0,{identifier:"ConfigDetailsPage",implementation:jt}),Vt.registerSingleton(void 0,{identifier:"Header",implementation:class{view(){return pt("nav",{class:"border-b overflow-hidden p-2 border-gray-400 mx-auto w-full max-w-screen-xl"},pt("div",{class:"flex items-center"},[pt(pt.route.Link,{class:"font-sans antialiased text-xl text-current mx-2 block py-1 font-semibold",href:"/status"},"UA Aggregation"),pt("div",{class:"ml-auto mr-2 block"},[pt("ul",{class:"m-2 flex flex-row gap-x-3 gap-y-1 m-0 items-center"},[pt("li",pt(pt.route.Link,{class:"font-sans antialiased text-xl text-current p-1 hover:text-primary",href:"/status"},"Status")),pt("li",pt(pt.route.Link,{class:"font-sans antialiased text-xl text-current p-1 hover:text-primary",href:"/config/uaclient"},"Config"))])])]))}}}),Vt.registerSingleton(void 0,{identifier:"Footer",implementation:class{view(){return pt("footer",{class:"border-t overflow-hidden p-2 border-gray-400 mx-auto w-full max-w-screen-xl"},pt("p",{class:"font-sans antialiased text-base text-current text-center"},"OPC UA Aggregation Client"))}}}),Vt.registerSingleton(void 0,{identifier:"Layout",implementation:Lt}),Vt.registerSingleton(void 0,{identifier:"IApp",implementation:$t});const Yt=Vt.get({identifier:"IApp"});pt.route(Jt,"/status",Yt.Routes)}();
